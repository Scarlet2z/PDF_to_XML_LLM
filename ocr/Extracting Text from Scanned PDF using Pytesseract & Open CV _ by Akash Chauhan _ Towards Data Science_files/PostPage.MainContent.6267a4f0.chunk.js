/*! For license information please see PostPage.MainContent.6267a4f0.chunk.js.LICENSE.txt */
(self.webpackChunklite=self.webpackChunklite||[]).push([[5304],{63424:(e,n,t)=>{var i=t(25160);e.exports=function(e){return null!=e&&e.length?i(e,0,-1):[]}},3459:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),t=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),i=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,o=/.*?=>.*?/,l=/[<>\/\u2028\u2029]/g,r=["*","async"],d={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function s(e){return d[e]}e.exports=function e(d,m){m||(m={}),"number"!=typeof m&&"string"!=typeof m||(m={space:m});var c,u=[],p=[],k=[],v=[],g=[],f=[];return m.ignoreFunction&&"function"==typeof d&&(d=void 0),void 0===d?String(d):(c=m.isJSON&&!m.space?JSON.stringify(d):JSON.stringify(d,m.isJSON?null:function(e,t){if(m.ignoreFunction&&function(e){var n=[];for(var t in e)"function"==typeof e[t]&&n.push(t);for(var i=0;i<n.length;i++)delete e[n[i]]}(t),!t&&void 0!==t)return t;var i=this[e],a=typeof i;if("object"===a){if(i instanceof RegExp)return"@__R-"+n+"-"+(p.push(i)-1)+"__@";if(i instanceof Date)return"@__D-"+n+"-"+(k.push(i)-1)+"__@";if(i instanceof Map)return"@__M-"+n+"-"+(v.push(i)-1)+"__@";if(i instanceof Set)return"@__S-"+n+"-"+(g.push(i)-1)+"__@"}return"function"===a?"@__F-"+n+"-"+(u.push(i)-1)+"__@":"undefined"===a?"@__U-"+n+"-"+(f.push(i)-1)+"__@":t},m.space),"string"!=typeof c?String(c):(!0!==m.unsafe&&(c=c.replace(l,s)),0===u.length&&0===p.length&&0===k.length&&0===v.length&&0===g.length&&0===f.length?c:c.replace(t,(function(n,t,l){return"D"===t?'new Date("'+k[l].toISOString()+'")':"R"===t?"new RegExp("+e(p[l].source)+', "'+p[l].flags+'")':"M"===t?"new Map("+e(Array.from(v[l].entries()),m)+")":"S"===t?"new Set("+e(Array.from(g[l].values()),m)+")":"U"===t?"undefined":function(e){var n=e.toString();if(i.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;if(o.test(n))return n;var t=n.indexOf("("),l=n.substr(0,t).trim().split(" ").filter((function(e){return e.length>0}));return l.filter((function(e){return-1===r.indexOf(e)})).length>0?(l.indexOf("async")>-1?"async ":"")+"function"+(l.join("").indexOf("*")>-1?"*":"")+n.substr(t):n}(u[l])}))))}},65507:(e,n,t)=>{"use strict";t.d(n,{r:()=>l});var i=t(96540),a=t(99731),o=t(52290),l=function(e){var n=e.children,t=e.href,l=e.width,r=void 0===l?{xs:"100%",sm:"100%",md:"min-width",lg:"min-width",xl:"min-width"}:l;return i.createElement(a.$n,{href:t,buttonStyle:"SUBTLE",width:r},i.createElement(o.a,{textAlign:"center"},n))}},17080:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>dl,useLoader:()=>rl});var i=t(64467),a=t(39181),o=t(96540),l=t(54239),r=t(26365),d=t(51622),s=t(42680),m=t(69699),c=t(88835),u=t(9942),p=t(50684),k=t(39160),v=t(79959);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=["blog.coinbase.com","moody-pub.medium.fail"],h=function(e){var n=e.post.mediumUrl,t=e.matchedPath,i=e.children,a=(0,k.d4)((function(e){return e.navigation.currentHash})),l=(0,p.pE)("postPublishedType"),r=(0,p.pE)("responsesOpen"),s=(0,p.MW)(),m=(0,p.WZ)(),g=(0,k.d4)((function(e){return e.navigation.host})),h=(0,v.GA)();if(!n||h)return i;var N=c.parse(decodeURIComponent(n)),y=f(f(f(f({},s?{source:s}:{}),m?{sk:m}:{}),l?{postPublishedType:l}:{}),r?{responsesOpen:r}:{});return g!==N.host?S.indexOf(g)>-1?o.createElement(d.u,null):o.createElement(u.r,{to:(0,v.ST)(n,y,a),replace:!0,isMediumApp:!0}):N.path&&t!==N.path?o.createElement(u.r,{to:(0,v.ST)(N.path,y,a),replace:!0}):i},N=t(30707),y=t(45458),b=t(81666),x=t(50112),E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,y.A)(x.f.definitions))},F=t(59265),w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkSharer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,y.A)(F.v0.definitions))},A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_postContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"shareKeyCreator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}}]}}].concat((0,y.A)(w.definitions))},_={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,y.A)(A.definitions),(0,y.A)(w.definitions),(0,y.A)(E.definitions))},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}}]}}]}}]}}]}}].concat((0,y.A)(b.Rq.definitions),(0,y.A)(A.definitions))},D=function(){var e,n,t,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,k.d4)((function(e){return e.navigation.referrer})),d=null!==(e=(0,p.WZ)())&&void 0!==e?e:void 0,s={referrer:r,sk:d,source:null!==(n=(0,p.MW)())&&void 0!==n?n:void 0},m=!l&&!d,c=(0,a.I)(P,{variables:{postId:o,postMeteringOptions:s},ssr:!1,skip:!o||m}),u=c.loading,v=c.error,g=c.data,f=null==g||null===(t=g.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.fullContent;return u?{loading:u}:v?{error:v}:{content:f}},T=t(28072),C=t(49287),I=t(46879),O=t(35642),R=t(60213),L=t(64122),M=t(88726),B=t(52290),V=t(85050),j=t(56942),U=t(20239),W=t(18302),G=t(90280),z=t(615),Z=t(20621),H=t(27049),Y=function(e){return e.filter((function(e){return!(null==e||!e.feedId||null==e||!e.post)}))},q=function(e){var n=e.item,t=n.feedId,i=n.post,a=e.index,l=e.source,r=e.lastIndex,d=(0,U.D)(),s=(0,k.d4)((function(e){return e.client.viewerIsBot}));return o.createElement(z.E,{size:{xs:12,sm:12,md:6,lg:6,xl:6}},o.createElement(B.a,{paddingBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},height:"100%"},o.createElement(C.Ne,{extendSource:!0,source:{name:l,index:a,feedId:s?void 0:t}},o.createElement(W.h,{index:a,post:i,scale:"S",aspectRatio:G.l8.TwoToOne,lastIndex:r,dividerBreakpoints:[H.i.xs,H.i.sm],dividerColor:d.colorTokens.border.neutral.tertiary.base,miroImgFetchedWidth:679}))))},K=function(e){var n=e.items,t=e.source;return o.createElement(Z.E,{alignItems:"stretch"},n.map((function(e,i){return o.createElement(q,{key:e.post.id,item:e,index:i,source:t,lastIndex:n.length-1})})))},Q=t(65507),X=function(e){var n=e.authorCollectionRecircFeed,t=e.user,i=e.collection,a=(0,U.D)(),l=(null==n?void 0:n.items)||[],r=Y(l),d=(0,L.f)(t);if(null==r||!r.length)return null;var s=1===(null==r?void 0:r.length);return o.createElement(o.Fragment,null,o.createElement(T.P,{size:"app"},o.createElement(B.a,{marginTop:"40px",marginBottom:"32px"},o.createElement(j.DZ,{scale:"XS"},"More from ",t.name,i&&" and ".concat(i.name))),s?o.createElement(o.Fragment,null,o.createElement(V.V,{xs:!0,sm:!0},o.createElement(K,{items:r,source:"author_recirc"})),o.createElement(V.V,{md:!0,lg:!0,xl:!0},o.createElement(O.$,{post:r[0].post,scale:"L",index:0,lastIndex:0,dividerColor:a.colorTokens.border.neutral.tertiary.base}))):o.createElement(K,{items:r,source:"author_recirc"}),o.createElement(M.i,{marginTop:s?{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"}:void 0,marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:a.colorTokens.border.neutral.tertiary.base}),o.createElement(B.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},o.createElement(Q.r,{href:d},"See all from ",null==t?void 0:t.name),i&&o.createElement($,{collection:i}))),o.createElement(M.i,{marginTop:{xs:"72px",sm:"72px",md:"96px",lg:"96px",xl:"96px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},$=function(e){var n=e.collection,t=(0,R.z)(n);return o.createElement(B.a,{marginTop:{xs:"16px",sm:"16px",md:"0px",lg:"0px",xl:"0px"},marginLeft:{xs:"0",sm:"0",md:"16px",lg:"16px",xl:"16px"}},o.createElement(Q.r,{href:t},"See all from ",null==n?void 0:n.name))},J=t(18591),ee=t(8075),ne={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"feedId"}}]}}]}}].concat((0,y.A)(J.e.definitions),(0,y.A)(ee.Y.definitions))},te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,y.A)(F.v0.definitions))},ie={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,y.A)(F.dl.definitions))},ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromAuthorAndMaybePubQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorCollectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"}}]}}]}}].concat((0,y.A)(ne.definitions))},oe=t(46225),le=t(7367),re=t(77206),de=t(86527),se=t(36557),me=t(12378),ce=t(15371),ue=t(46963),pe=t(39204),ke=t(67459),ve=t(66356),ge=t(5562),fe=t(86975),Se=t(39410),he=t(21771);function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var be=(0,o.forwardRef)((function(e,n){var t=e.post,i=t.collection,a=t.creator,l=t.title,r=t.isLocked,d=t.createdAt,s=(0,ke.J)(t);return o.createElement(B.a,{marginRight:"16px",flexShrink:"0",ref:n},o.createElement(he.V,{post:ye(ye({},t),{},{previewContent:{isFullContent:!1}}),presentationContext:"POST_PREVIEW",shouldReportClientViewed:!1},o.createElement(fe.D,{href:s},o.createElement(B.a,{borderRadius:"4px",border:"neutral.primary",background:"white",width:"240px",height:"148px",padding:"24px",display:"flex",flexDirection:"column"},o.createElement(B.a,{flexGrow:"1",flexBasis:"0%"},a&&o.createElement(B.a,{display:"flex",alignItems:"center",marginBottom:"8px"},o.createElement(re.V,{author:a,collection:i,includeAvatar:!0,includeVerifiedAuthorBadge:!0})),o.createElement(Se.hE,{scale:"XS",clamp:2},l)),o.createElement(B.a,{display:"flex",alignItems:"center"},r&&o.createElement(o.Fragment,null,o.createElement(pe.F,{post:t,hideLabelDesktop:!0}),o.createElement(ge.d,{margin:"0 8px"})),d&&o.createElement(se.kZ,{scale:"S"},o.createElement(ve.c,{timestamp:d,isShorthand:!0})))))))})),xe=function(e){var n,t,i=e.catalog,a=e.currentPostId,l=(0,U.D)(),r=(0,k.d4)((function(e){return e.config.authDomain})),d=(0,ue.U)(),s=(0,o.useRef)(null),m=d===H.i.xs||d===H.i.sm?300:600,c=(0,I.n1u)(i,r),u=null==i||null===(n=i.itemsConnection)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.map((function(e){var n;return"Post"===(null===(n=e.entity)||void 0===n?void 0:n.__typename)?e.entity:void 0})).filter((function(e){return!!e&&e.id!==a})).slice(0,10);return u.length?o.createElement(C.Ne,{extendSource:!0,source:{name:"list_recirc",catalogId:i.id}},o.createElement(B.a,{marginBottom:{xs:"40px",sm:"40px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(M.i,{borderColor:l.colorTokens.border.neutral.primary.base,marginBottom:{xs:"30px",sm:"30px",md:"50px",lg:"50px",xl:"50px"}}),o.createElement(T.P,{size:"app"},o.createElement(j.DZ,{scale:"XS"},o.createElement(de.N,{href:c},'More from the list: "',(0,ce.DX)(i),'"')),o.createElement(B.a,{display:"flex",marginTop:"8px",alignItems:"center"},o.createElement(B.a,{flexShrink:"0",whiteSpace:"nowrap",marginRight:"4px"},o.createElement(se.kZ,{scale:"S"},"Curated by")),o.createElement(re.V,{author:i.creator}))),o.createElement(B.a,{margin:"24px 0",position:"relative"},o.createElement(le.x5,{firstItemRef:s,scrollPixels:m,arrowPadding:"8px"},o.createElement(B.a,{flexShrink:"0",width:"calc(50% - ".concat(oe.g_/2,"px)"),xs:{width:(0,me.c)(oe.mW)},sm:{width:(0,me.c)(oe.mW)}}),u.map((function(e,n){return o.createElement(be,{key:"".concat(e.id,"-").concat(n),post:e,ref:0===n?s:null})})))),o.createElement(T.P,{size:"app"},o.createElement(se.kZ,{scale:"S",color:"ACCENT"},o.createElement(de.N,{href:c},"View list"))))):null},Ee=t(23445),Fe=t(77485),we=t(55918),Ae=t(3531),_e=t(25703),Pe=t(4424),De={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}}].concat((0,y.A)(Fe.R.definitions),(0,y.A)(F.v0.definitions),(0,y.A)(Ee.pB.definitions),(0,y.A)(we.s.definitions))},Te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat((0,y.A)(De.definitions),(0,y.A)(Ae.v.definitions),(0,y.A)(_e.c.definitions),(0,y.A)(Pe.c.definitions))},Ce={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromList_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_post"}}]}}]}}]}}]}}].concat((0,y.A)(F.Rm.definitions),(0,y.A)(Ee.pB.definitions),(0,y.A)(Te.definitions))},Ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromList_catalog"}}]}}]}}]}}].concat((0,y.A)(Ce.definitions))},Oe=t(1422),Re={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}}]}}]}}]}}]}}].concat((0,y.A)(J.e.definitions))},Le={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogsConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogPreview_catalog"}}]}}]}}].concat((0,y.A)(Oe.I.definitions))},Me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecircQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"6"}}]}},{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"}}]}}]}}].concat((0,y.A)(Re.definitions))},Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecommendedListsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postCatalogRecirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"}}]}}]}}].concat((0,y.A)(Le.definitions))},Ve=t(10517),je=t(7066),Ue=t(68436),We=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,a=e.maxWidthSize,l=void 0===a?"inset":a,r=e.children,d=e.marginBottom,s=void 0===d?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:d,m=(0,Ue._)(t),c=m.dockRef,u=m.markerRef,p=m.isStuck;return o.createElement(o.Fragment,null,o.createElement(B.a,{ref:u}),o.createElement(B.a,{tag:"footer",ref:c,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,me.c)(je.S),maxHeight:(0,me.c)(je.S),zIndex:"1",position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:p?"BACKGROUND":i,borderTop:p?{xs:"NONE",sm:"NONE",md:"neutral.primary",lg:"neutral.primary",xl:"neutral.primary"}:"NONE",marginBottom:s},o.createElement(B.a,{flexGrow:"1"},o.createElement(T.P,{size:l},r))))},Ge=t(80296),ze=t(58168),Ze=t(69733),He=t(27721),Ye=t(86329),qe=t(1722),Ke=t(79647),Qe=t(99731),Xe=t(3005),$e=t(48198),Je=t(95107),en=t(66305),nn=t(42976),tn=t(91830),an=t(18642),on=t(27507),ln=t(48642),rn=t(56921),dn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]))},sn=function(){return o.createElement(B.a,null,o.createElement(de.N,{inline:!0,linkStyle:"OBVIOUS",href:(0,I.BdX)()},"Learn more")," ","about what happens to your post when you publish.")};var mn,cn=function(e){var n=e.url,t=e.label,i=e.post,a=e.isFriendLink,l=void 0!==a&&a,r=e.testId,d={postId:null==i?void 0:i.id,source:"post_publish_dialog"};return o.createElement(rn.B,(0,ze.A)({url:n},d),(function(e){return o.createElement(B.a,{marginBottom:"8px"},o.createElement(Qe.$n,{"data-testid":null!=r?r:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:Qe.Rc,width:Qe.Gk,onClick:function(e){return e}},o.createElement(B.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},l?o.createElement(on.A,null):o.createElement(ln.A,null),e?"Copied!":t,o.createElement(B.a,{height:"24px",width:"24px"}))))}))},un=function(e){var n=e.post,t=e.isUnlisted,i=e.postPath;return o.createElement(B.a,{display:"flex",flexDirection:"column",alignItems:"center"},o.createElement(se.kZ,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(t)),o.createElement(B.a,{marginTop:"20px"},!t&&o.createElement(o.Fragment,null,o.createElement(Ke._,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareFbButton"}),o.createElement(B.a,{marginBottom:"12px"}),o.createElement(Ke._,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareTwitterButton"}),o.createElement(B.a,{marginBottom:"12px"}),o.createElement(Ke._,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareLinkedinButton"}),o.createElement(B.a,{marginBottom:"12px"})),o.createElement(cn,{url:i,label:"Copy link",post:n})))},pn=function(e){var n=e.viewerId,t=e.isVisible,i=e.hide,a=e.post,l=a.id,r=a.visibility,d=a.curationEligibleAt,s=a.mediumUrl,m=a.isNewsletter,c=a.isPublishToEmail,u=a.isMarkedPaywallOnly,p=a.creator,g=(0,qe.h)(a),f=g.viewerEdge,S=g.loading,h="UNLISTED"===r,N=!!d,y=(null==f?void 0:f.creatorPartnerProgramEnrollmentStatus)===nn.$X.ENROLLED,b=null==f?void 0:f.shareKey,x=(0,k.d4)((function(e){return e.config.productName})),E="Your story is published!";return c&&n===(null==p?void 0:p.id)?E="Your story has been published and sent!":m&&(E="Your newsletter is on its way!"),S?null:o.createElement(Xe.l,{isVisible:t,hide:i,withAnimation:!0,withCloseButton:!1},o.createElement(B.a,{background:an.ON,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,an.qy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},o.createElement(B.a,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},o.createElement(B.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},o.createElement(Je.mz,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},E),o.createElement(B.a,{maxWidth:"520px",marginTop:"20px"},o.createElement(se.kZ,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,n,t,i,a,l){return i?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):o.createElement(o.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",o.createElement(de.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,l):e?"Your unlisted story will not appear publicly on ".concat(l,", but you can still share it."):a?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":t?n?o.createElement(o.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money by placing it behind the paywall.",o.createElement(sn,null)):o.createElement(o.Fragment,null,"You did not choose to paywall this story, so it won't be eligible to earn money.",o.createElement(sn,null)):o.createElement(o.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",l," Partner Program."," ",o.createElement(de.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,N,y,m,null!=u&&u,x))),o.createElement(B.a,{paddingTop:"20px"},N&&!h&&s&&b&&o.createElement(cn,{url:(0,v.ST)((0,I.us)(a),{sk:b}),label:"Copy Friend Link",post:a,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),o.createElement(B.a,{borderBottom:"neutral.primary",width:"100%",margin:"20px 0"})),l&&s&&o.createElement(un,{post:a,isUnlisted:h,postPath:(0,I.us)(a)})),o.createElement($e.J,{onClick:i,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub"}(mn||(mn={}));var kn=function(e){var n,t=e.post,i=(0,p.pE)("postPublishedType"),l=(0,a.I)(dn,{variables:{postId:t.id},skip:i!==mn.initial}),r=l.data,d=(r=void 0===r?{}:r).post,s=l.loading,m=(0,He.R)().value,c=(0,o.useState)(!1),u=(0,Ge.A)(c,2),k=u[0],v=u[1],g=(0,o.useCallback)((function(){return v(!1)}),[v]),f=(0,Ze.wA)(),S=(0,Ye.J)(t.collection).viewerEdge,h=(null==m?void 0:m.id)===(null===(n=t.creator)||void 0===n?void 0:n.id)||t.collection&&(null==S?void 0:S.isEditor);(0,o.useEffect)((function(){switch(i){case mn.initial:v(!0);break;case mn.repub:f((0,tn.MZ)({duration:3e3,message:"Your changes have been published."}))}}),[i]);var N=(0,o.useState)(!1),y=(0,Ge.A)(N,2),b=y[0],x=y[1];return b?s||!d||d.inResponseToPostResult||d.inResponseToCatalogResult?null:m&&h?o.createElement(pn,{isVisible:k,hide:g,post:d,viewerId:m.id}):null:(en.R5.on("load",(function(){return x(!0)})),null)},vn=t(5811),gn=t(5057),fn=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,Sn=function(){var e,n,t=(0,U.D)();return o.createElement(B.a,{marginTop:"-240px",background:"linear-gradient(".concat((e=t.backgroundColor,n=e.match(fn),n?"rgba(".concat(n[1],", ").concat(n[2],", ").concat(n[3],", 0)"):(0,an.u7)(0)),", ").concat(t.backgroundColor,")"),height:"250px",position:"relative",width:"100%"})},hn=function(e){var n=e.children,t=e.forwardedRef,i=e.margin;return o.createElement(o.Fragment,null,o.createElement(Sn,null),o.createElement(B.a,{backgroundColor:"BACKGROUND",ref:t},o.createElement(B.a,{margin:"auto",maxWidth:"760px",sm:{margin:null!=i?i:"0 24px 0"}},n)))},Nn=(0,o.forwardRef)((function(e,n){return o.createElement(hn,(0,ze.A)({},e,{forwardedRef:n}))})),yn=(0,o.memo)(Nn),bn=t(30572),xn=t(34317),En=t(71836),Fn=function(e){var n=e.postId,t=e.align,i=e.entityId,a=e.id,l=e.buttonStyle,r=void 0===l?"STRONG":l,d=e.onClick,s=(0,He.R)().value,m=(0,xn.$)(),c=(0,k.d4)((function(e){return e.config.authDomain})),u=null==s?void 0:s.hasPastMemberships,p=(0,v.ST)((0,I.Qok)(c),{subscribeToUserId:i||"",susiEntry:"post_paywall"}),g=o.useCallback((function(){m.event("paywall.upgradeClicked",{postId:n,userId:null==s?void 0:s.id}),null==d||d()}),[n,null==s?void 0:s.id]),f=u?"182px":"104px",S=u?"Resume membership":"Upgrade";return o.createElement(En.C,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},o.createElement(B.a,{display:"flex",textAlign:"center",justifyContent:"left"===t?"flex-start":"center"},o.createElement(bn.a,{isButton:!0,onClick:g,buttonStyle:r,width:f,redirectUrl:p,id:a},S)))},wn=t(7580),An=t(44402),_n=t(79429),Pn=t(21835),Dn=function(){return{flexShrink:0,marginRight:"12px",width:"16px",height:"16px"}},Tn=function(e){var n=e.headerText,t=e.reasonsToUpgrade,i=e.paywall,a=e.postId,l=(0,An.l)(),r=(0,ue.U)(),d="xs"===r||"sm"===r,s=(0,o.useMemo)((function(){var e=(null==i?void 0:i.creatorSpotlights)||[];return d&&e.length>6?e.filter((function(e){return!e.hideOnSmallScreen})):e}),[d,i]),m=(0,o.useMemo)((function(){return["Access all member-only stories on Medium"].concat((0,y.A)(t))}),[t]),c=(0,He.R)().value,u=(0,xn.$)(),p=(0,o.useCallback)((function(){u.event("paywall.presented",{type:i.type,userId:null==c?void 0:c.id})}),[i.type,null==c?void 0:c.id]),k=(0,_n.s)({onPresentedFn:p});return o.createElement(yn,{margin:"0 -24px",ref:k},o.createElement(B.a,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},o.createElement(B.a,{display:"flex",flexDirection:"column",padding:{xs:"28px 33px 32px",sm:"28px 33px 32px",md:"32px",lg:"32px",xl:"32px"},marginTop:"32px",textAlign:"center",borderRadius:"4px",maxWidth:"100%"},o.createElement(Je.mz,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),o.createElement(B.a,{marginTop:"32px"},o.createElement(se.kZ,{scale:"M",color:"DARKER"},"The author made this story available to Medium members only. Upgrade to instantly unlock this story plus other member-only benefits.")),o.createElement(B.a,{margin:"22px auto 34px"},m.map((function(e,n){return o.createElement(B.a,{display:"flex",alignItems:"center",key:"reason-".concat(n),marginTop:"12px",textAlign:"left"},o.createElement(Pn.A,{className:l(Dn)}),o.createElement(se.kZ,{scale:"M",color:"DARKER"},e))}))),o.createElement(B.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"30px"},s.map((function(e){return o.createElement(B.a,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:d?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},o.createElement(wn.r,{alt:e.name,miroId:e.miroId,diameter:64}),o.createElement(B.a,{marginTop:"8px",textAlign:"center"},o.createElement(se.kZ,{scale:d?"S":"M",color:"DARKER"},e.name),o.createElement(se.kZ,{scale:"XS"},e.title),e.company&&o.createElement(se.kZ,{scale:"XS"},e.company)))}))),o.createElement(Fn,{id:"paywallButton-programming",postId:a,align:"center",buttonStyle:"STRONG"}))))},Cn=t(91317),In=["Dive deeper into the topics that matter to you",o.createElement(o.Fragment,null,"Get in-depth articles answering thousands of questions"),"Achieve your personal and professional goals"],On=function(e){var n,t=e.paywall,i=e.post,a=(0,He.R)().value,l=function(e,n){var t=e?(0,Cn.E)(e):null;t=t&&t.length<=13?t:null;var i=n?" from ".concat(n):"";return t?"".concat(t,", read this story").concat(i," — and all the best stories on Medium."):"Read this story".concat(i," — and all the best stories on Medium.")}(null==a?void 0:a.name,null===(n=i.creator)||void 0===n?void 0:n.name);return o.createElement(Tn,{headerText:l,reasonsToUpgrade:In,paywall:t,postId:i.id})},Rn=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},Ln=function(e){var n,t,i=e.paywall,a=e.post,l=(0,He.R)().value,r=null!==(n=null===(t=a.primaryTopic)||void 0===t?void 0:t.slug)&&void 0!==n?n:null,d=function(e,n){var t=e?(0,Cn.E)(e):null;if(t=t&&t.length<=13?t:null,n){var i=Rn(n);return t?"".concat(t,", read the best stories about ").concat(i," from industry leaders on Medium."):"Read the best stories about ".concat(i," from industry leaders on Medium.")}return t?"".concat(t,", read the best stories from industry leaders on Medium."):"Read the best stories from industry leaders on Medium."}(null==l?void 0:l.name,r),s=(0,o.useMemo)((function(){return function(e){var n=e?Rn(e):"technical";return["Become an expert in your areas of interest","Get in-depth answers to thousands of questions about ".concat(n),"Grow your career or build a new one"]}(r)}),[r]);return o.createElement(Tn,{headerText:d,reasonsToUpgrade:s,paywall:i,postId:a.id})},Mn=t(47517),Bn=[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorSpotlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"company"}},{kind:"Field",name:{kind:"Name",value:"miroId"}},{kind:"Field",name:{kind:"Name",value:"hideOnSmallScreen"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}],Vn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,y.A)(Bn))},jn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,y.A)(Bn))},Un={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Paywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_post"}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]))},Wn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Paywall"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paywall"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_paywall"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_paywall"}}]}}]}}]}}]}}].concat((0,y.A)(Vn.definitions),(0,y.A)(jn.definitions))},Gn=t(70026),zn=t(11334),Zn=t(39),Hn=t(51260),Yn=t(80890),qn=t(40064),Kn=t(19228),Qn={fontSize:{xs:"16px",sm:"16px",md:"20px",lg:"20px",xl:"20px"},lineHeight:{xs:"20px",sm:"20px",md:"52px",lg:"52px",xl:"52px"},fontFamily:Yn.p0},Xn={fontSize:{xs:"28px",sm:"28px",md:"32px",lg:"32px",xl:"32px"},lineHeight:{xs:"32px",sm:"32px",md:"52px",lg:"52px",xl:"52px"},fontFamily:Yn.p0,fontWeight:500},$n=function(){var e=(0,An.l)(),n=(0,Zn.Z)({name:"detail",scale:"XL",color:"DARKER"});return o.createElement(B.a,{marginBottom:{xs:"24px",sm:"24px",md:"32px",lg:"32px",xl:"32px"}},o.createElement(B.a,{marginBottom:"8px"},o.createElement("span",{className:e([n,Qn])},"The writer made this"," ",o.createElement("span",{className:e({whiteSpace:"nowrap"})},"a member-only story."))),o.createElement(B.a,null,o.createElement("span",{className:e([n,Xn])},"Get 20% off membership for a limited time.")))},Jn={marginTop:"8px",overflow:"hidden",textAlign:"center",position:"relative"},et={background:"linear-gradient(180deg, #FFFEFD 15%, #FBF0B8 35%, #FFE330 55%, #FFC017 80%)"},nt=function(e){var n=e.postId,t=(0,An.l)(),i=(0,U.D)(),a=(0,Kn.qt)().baseTheme,l=(0,Hn.au)(),r=(0,qn._I)(i,a),d=(0,He.R)().value,s=(0,xn.$)(),m=(0,o.useCallback)((function(){null!=d&&d.id&&s.event("paywall.presented",{type:"summer-membership-drive",userId:d.id})}),[null==d?void 0:d.id]),c=(0,_n.s)({onPresentedFn:m});return o.createElement(zn.N,{theme:r},o.createElement(Sn,null),o.createElement(Kn.Cq,null,o.createElement("div",{ref:c,className:t(Jn)},o.createElement("div",{className:t(et)},o.createElement(Gn.G,{animated:!0}),o.createElement(T.P,{size:"app",rules:{height:"280px",alignItems:"flex-end",padding:{xs:"40px 0",sm:"40px 0",md:"40px 0 64px",lg:"40px 0 64px",xl:"40px 0 64px"}}},o.createElement(B.a,{position:"relative"},o.createElement($n,null),o.createElement(En.C,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n,promoId:"summer_discount"}},o.createElement(bn.a,{isButton:!0,buttonStyle:"BRAND",redirectUrl:l("ShowPay",{}),eventData:{promoId:"summer_discount"}},"Upgrade now"))))))))},tt=t(75636),it=function(e){var n,t=e.post,i=(0,He.R)().value,l=(0,xn.$)(),r=(0,tt.p)("enable_medium_forever_introductory_discount"),d=r.value,s=r.loading;(0,o.useEffect)((function(){l.event("paywall.viewed",{userId:null==i?void 0:i.id})}),[]);var m=(0,a.I)(Wn,{ssr:!1,variables:{postId:t.id}}),c=m.data,u=m.error,p=m.loading;(0,o.useEffect)((function(){u&&Mn.v.error({error:u},"Paywall query error")}),[u]);var k=(0,o.useState)(!1),v=(0,Ge.A)(k,2),g=v[0],f=v[1],S=(0,o.useCallback)((function(e,n){g||(f(!0),Mn.v.error(e,n))}),[g]),h=null==c||null===(n=c.post)||void 0===n?void 0:n.viewerEdge.paywall;if(u||p||!h||s)return null;if(d)return o.createElement(nt,{postId:t.id});switch(h.type){case nn.nQ.PROGRAMMING:return o.createElement(T.P,{size:"app"},o.createElement(Ln,{paywall:h,post:t}));case nn.nQ.ASPIRATIONAL:return o.createElement(T.P,{size:"app"},o.createElement(On,{paywall:h,post:t}));default:return S({paywall:h},"Unknown paywall type"),null}},at=t(60301),ot=t(43634),lt=t(79197),rt=t(28263),dt=t(27146),st=t(71336),mt=t(88909),ct=t(67033),ut=function(e){var n=e.postId,t=e.susiEntry,i="register",a={operation:i,postId:n},l=(0,rt.C)().openModal;return o.createElement(B.a,{display:"flex",flexDirection:"column",textAlign:"center",margin:{xs:"32px 0",sm:"32px 0",md:"64px 0",lg:"64px 0",xl:"64px"}},o.createElement(ct.b,{eventData:a},o.createElement(mt.s,{operation:i})),o.createElement(B.a,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(ct.b,{eventData:a},o.createElement(st.N,{operation:i}))),o.createElement(B.a,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(ct.b,{eventData:a},o.createElement(dt.P,{goToEmailAuthStep:function(){l({step:"ENTER_EMAIL",susiEntry:t,operation:i})},operation:i}))))},pt="post_regwall",kt=function(e){var n=e.post,t=(0,xn.$)(),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a=(0,k.d4)((function(e){return e.navigation.susiEmail})),l=(0,rt.C)().susiModalConfig.operation;(0,o.useEffect)((function(){t.event("meter.viewed",{meterCount:0,postId:n.id,uiType:i?lt.H.SyndicatedRegwall:lt.H.RegWall})}),[]);var r=(0,o.useCallback)((function(){t.event("regwall.presented",{})}),[]),d=(0,_n.s)({onPresentedFn:r});return o.createElement(C.Ne,{source:{postId:n.id,susiEntry:pt}},o.createElement(yn,{margin:"0px",ref:d},o.createElement(B.a,{display:"flex",textAlign:"center",justifyContent:"center",flexDirection:"column"},o.createElement(B.a,{padding:{xs:"28px 0 48px",sm:"28px 0 48px",md:"56px",lg:"56px",xl:"56px"}},o.createElement(Je.mz,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a?"Check your inbox.":o.createElement(B.a,null,"Create an account to read the full story.")),o.createElement(se.kZ,{color:"DARKER",scale:"M",tag:"div"},a?o.createElement(o.Fragment,null,o.createElement(B.a,{paddingTop:"12px",paddingBottom:"56px"},"login"===l?"There is an existing account associated with ".concat(a,", and we have just sent a link you can use to sign in."):"Click the link we sent to ".concat(a," to complete your account setup and\n                    continue reading this story.")),o.createElement(se.kZ,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",o.createElement(ot.r,{linkStyle:"OBVIOUS",operation:"register",post:n,susiEntry:pt},"Try again"))):o.createElement(se.kZ,{color:"DARKER",scale:"L"},o.createElement(B.a,{margin:"32px 0 0"},o.createElement(se.kZ,{color:"DARKER",scale:"M"},"The author made this story available to Medium members only.",o.createElement("br",null),"If you’re new to Medium, create a new account to read this story on us.")),o.createElement(se.kZ,{color:"DARKER",scale:"M"},o.createElement(B.a,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},o.createElement(B.a,{margin:"32px 0"},o.createElement(at.z,{isButton:!0,buttonSize:"REGULAR",postId:n.id,appEntry:"regwall",copy:"Continue in app"})),o.createElement(B.a,null,"Or, continue in mobile web"))),o.createElement(ut,{postId:n.id,susiEntry:pt}),"Already have an account?"," ",o.createElement(ot.r,{linkStyle:"OBVIOUS",inline:!0,operation:"login",post:n,susiEntry:pt},"Sign in")))))))},vt=function(e){var n=e.post,t=n.id,i=n.content.isLockedPreviewOnly,a=(0,He.R)(),l=a.value,r=a.loading,d=!!l;if(!D(t,i).loading&&i){if(d)return o.createElement(it,{post:n});if(!r)return o.createElement(T.P,{size:"app"},o.createElement(kt,{post:n}))}return null},gt=t(95420),ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCollaboratorMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCollaborator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},St=t(39586),ht=t(95832),Nt=t(80545),yt=t(55364),bt=t.n(yt),xt=t(3459),Et=t.n(xt),Ft=t(30758),wt=t(90383),At=t(59162);function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Pt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dt=(0,Ze.Ng)((function(e){var n=e.config,t=n.productName,i=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:i,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,t=e.host,i=e.post,a=e.postDescription,l=e.productName,r=e.defaultImages,d=e.collectionStructuredData,s=i.collection,m=i.creator,c=i.id,u=i.mediumUrl,p=i.isLocked,k=i.previewImage,g=i.firstPublishedAt,f=i.updatedAt,S=(0,At._y)(i,l),h={id:r.postLogo.imageId,originalWidth:r.postLogo.width,originalHeight:r.postLogo.height},N={id:r.orgLogo.imageId,originalWidth:r.orgLogo.width,originalHeight:r.orgLogo.height},y=s?{"@type":"Organization",name:s.name,url:s.domain||(0,v.jp)(t,(0,I.eBL)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,Ft.YT)(N);var n=(0,Ft.YT)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,Ft.YT)(N)}(s)}:{"@type":"Organization",name:l,url:(0,v.jp)(t,"/"),logo:(0,Ft.YT)(N)};s&&d&&d[s.id]&&bt()(y,d[s.id].data);var b=k&&k.id?(0,Ft.Yq)(Pt(Pt({},k),{},{miroId:k.id,croppedWidth:1200})):(0,Ft.Cj)({url:(0,wt.rP)({miroId:h.id,width:h.originalWidth}),height:h.originalHeight,width:h.originalWidth}),x=a||"",E=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},F=Pt({"@type":"NewsArticle",image:b,url:u,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:f&&new Date(f).toISOString(),headline:S,name:S,description:x,identifier:c,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,I.EpC)(m,t)}:null,creator:m&&[m.name],publisher:y,mainEntityOfPage:u},E),w=Pt(Pt({},{"@context":"http://schema.org"}),F);return o.createElement(Nt.mg,null,o.createElement("script",{type:"application/ld+json"},Et()(w,{isJSON:!0})))})),Tt=t(27715),Ct=t(7897);function It(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ot(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?It(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):It(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Rt=(0,Ze.Ng)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,i,a,l=e.authDomain,r=e.productName,d=e.post,s=d.canonicalUrl,m=d.collection,c=d.creator,u=d.id,p=d.latestPublishedAt,k=d.mediumUrl,v=d.previewContent,g=d.socialTitle,f=d.socialDek,S=d.visibility,h=d.isShortform,N="UNLISTED"===S,y=!d.firstPublishedAt,b=null==c?void 0:c.name,x=(0,At.Hg)(d),E=d.title||"",F=x.latestTitle||E;if(h){var w=Ot(Ot({},d),{},{title:F});i=(0,At.T7)(w,r,x.hasTitleGraf).trim(),a=(0,Ct.a)(d,x.hasTitleGraf)}else i=(0,At._y)(d,r,x,!0).trim(),a=(0,Ct._)(d);var A,_,P,D=f||(null==v?void 0:v.subtitle)||a;if(null!=d&&null!==(n=d.previewImage)&&void 0!==n&&n.id&&!d.isLimitedState){var T=d.previewImage;A=(0,wt.As)({miroId:T.id,aspectRatio:1.9,croppedWidth:T.originalWidth?Math.min(T.originalWidth,1200):1200,originalWidth:T.originalWidth,originalHeight:T.originalHeight,focusPercentX:T.focusPercentX,focusPercentY:T.focusPercentY}),d.previewImage.alt&&(_=d.previewImage.alt)}else if(d.isLimitedState){var C={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};A=(0,wt.As)({miroId:C.id,aspectRatio:1.9,croppedWidth:C.originalWidth?Math.min(C.originalWidth,1200):1200,originalWidth:C.originalWidth,originalHeight:C.originalHeight,focusPercentX:C.focusPercentX,focusPercentY:C.focusPercentY}),_="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=c&&c.username&&(P=(0,I.EpC)(c,l));var O=(0,I.Pu1)(u),R=!(null!==(t=(0,At.ek)(d))&&void 0!==t&&t.shouldIndexPost),L=p&&new Date(p).toISOString(),M=(0,Tt.M8)(d.readingTime||0),B=null==c?void 0:c.twitterScreenName,V=(null==m?void 0:m.twitterUsername)||"Medium",j=null==m?void 0:m.facebookPageId,U=g||E||F;d.isLimitedState&&(U="");var W=d.isLimitedState?"":D,G=(0,o.useMemo)((function(){var e;return o.createElement(Nt.mg,null,o.createElement("meta",{property:"og:type",content:"article"}),L&&o.createElement("meta",{property:"article:published_time",content:L}),o.createElement("title",null,i),o.createElement("meta",{name:"title",content:i}),o.createElement("meta",{property:"og:title",content:U}),j&&o.createElement("meta",{property:"fb:pages",content:j}),o.createElement("meta",{property:"al:android:url",content:O}),o.createElement("meta",{property:"al:ios:url",content:O}),o.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&o.createElement("meta",{name:"description",content:a}),D&&o.createElement("meta",{property:"og:description",content:W}),o.createElement("meta",{property:"og:url",content:null!=k?k:void 0}),o.createElement("meta",{property:"al:web:url",content:null!=k?k:void 0}),A&&o.createElement("meta",{property:"og:image",content:A}),_&&o.createElement("meta",{property:"og:image:alt",content:_}),P&&o.createElement("meta",{property:"article:author",content:P}),P&&o.createElement("link",{rel:"author",href:P}),b&&o.createElement("meta",{name:"author",content:b}),o.createElement("link",{rel:"canonical",href:null!==(e=s||k)&&void 0!==e?e:void 0}),o.createElement("link",{rel:"alternate",href:(0,I.pNp)((0,I.KI2)("medium.com",d.id))}),o.createElement("meta",{name:"robots",content:"".concat(R?"noindex":"index",",follow,max-image-preview:large")}),o.createElement("meta",{name:"referrer",content:N||y?"origin":"unsafe-url"}),o.createElement("meta",{property:"twitter:title",content:U}),o.createElement("meta",{name:"twitter:site",content:"@".concat(V)}),o.createElement("meta",{name:"twitter:app:url:iphone",content:O}),D&&o.createElement("meta",{property:"twitter:description",content:W}),A&&o.createElement("meta",{name:"twitter:image:src",content:A}),_&&o.createElement("meta",{name:"twitter:image:alt",content:_}),o.createElement("meta",{name:"twitter:card",content:A?"summary_large_image":"summary"}),B&&o.createElement("meta",{name:"twitter:creator",content:"@".concat(B)}),o.createElement("meta",{name:"twitter:label1",content:"Reading time"}),o.createElement("meta",{name:"twitter:data1",content:"".concat(M," min read")}))}),[i,s,k,A,_,u,g,a,P,b,B,O,R,p,L]);return o.createElement(o.Fragment,null,G,o.createElement(Dt,{post:d,postDescription:a}))})),Lt=t(44054),Mt=t(23358),Bt=t(96783),Vt=t(46696),jt=t(57975),Ut=t(62262),Wt=t(26311),Gt=t(23406),zt=function(e){var n,t=e.post,i=e.socialPopoverPosition,a=void 0===i?"beginning":i,l=o.useContext(Gt.u).openSidebar,r=!!(0,He.R)().value,d=t.creator,s="clap_footer",m={post:t,source:"post_actions_footer"},c=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return o.createElement(B.a,{display:"flex",justifyContent:"space-between",print:{display:"none"}},o.createElement(C.Ne,{source:{name:"post_actions_footer"}},o.createElement(B.a,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(B.a,{maxWidth:"155px"},o.createElement(Ut.U,null,o.createElement(jt.W,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"})),o.createElement(Ut.F,null,o.createElement(jt.W,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"}))),o.createElement(C.Ne,{source:{name:"follow_footer",susiEntry:"follow_footer"}},o.createElement(B.a,{display:"flex",marginLeft:"24px"},o.createElement(Wt._,{trackingData:{postId:t.id},responsesCount:c,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,isPublished:t.isPublished,handleClick:l,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},testId:"footerResponseButton"}))))),o.createElement(B.a,{display:"flex",alignItems:"center"},"beginning"===a&&o.createElement(Vt.b,m),o.createElement(B.a,{flexGrow:"0",marginLeft:"beginning"===a?"20px":void 0,marginRight:"20px"},o.createElement(C.Ne,{source:{name:"post_actions_footer"}},o.createElement(Bt.T,{post:t,susiEntry:"bookmark_footer",testId:"footerBookmarkButton"}))),"end"===a&&o.createElement(B.a,{flexGrow:"0",marginRight:"20px"},o.createElement(Vt.b,(0,ze.A)({},m,{testId:"footerSocialShareButton"}))),t&&d&&r&&o.createElement(Mt.G,{post:t,testId:"footerStoryOptionsButton"})))},Zt=t(35045),Ht=t(5600),Yt=t(95320),qt=t(32010),Kt=t(71003),Qt=t(49753),Xt=t(10103),$t=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function Jt(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(ni(e,"title")," license by the author.")}}var ei={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function ni(e,n){return ei[e][n]}var ti,ii,ai=function(e){var n=e.license,t=(0,An.l)();return n?o.createElement(B.a,{display:"inline"},o.createElement(B.a,{display:"inline-block"},o.createElement(se.kZ,{scale:"M"},o.createElement(Ht.G,{tooltipText:Jt(n),maxWidth:300},o.createElement(de.N,{disableSourceParam:!0,href:ni(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),o.createElement(B.a,{display:"inline-block"},o.createElement(se.kZ,{scale:"M"},"CC_40_ZERO"===n&&o.createElement("span",null," by the author."),o.createElement("span",{className:t($t),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:o.createElement(Xt.A,null),CC_40_BY:o.createElement(Yt.A,null),CC_40_BY_ND:o.createElement(o.Fragment,null,o.createElement(Yt.A,null),o.createElement(Kt.A,null)),CC_40_BY_SA:o.createElement(o.Fragment,null,o.createElement(Yt.A,null),o.createElement(Qt.A,null)),CC_40_BY_NC:o.createElement(o.Fragment,null,o.createElement(Yt.A,null),o.createElement(qt.A,null)),CC_40_BY_NC_ND:o.createElement(o.Fragment,null,o.createElement(Yt.A,null),o.createElement(qt.A,null),o.createElement(Kt.A,null)),CC_40_BY_NC_SA:o.createElement(o.Fragment,null,o.createElement(Yt.A,null),o.createElement(qt.A,null),o.createElement(Qt.A,null)),PUBLIC_DOMAIN:o.createElement(o.Fragment,null)}[e]}(n))))):null},oi=t(16635),li=function(e){var n=e.post,t=e.marginBottom,i=(null==n?void 0:n.tags)||[];return i.length?o.createElement(B.a,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:t},i.map((function(e){return o.createElement(B.a,{display:"flex",marginTop:"8px",key:e.id},o.createElement(Zt.v,{topic:e}))}))):null},ri=function(){return o.createElement(B.a,{padding:"0 8px",display:"inline"},o.createElement(ge.d,{display:"inline",scale:"M"}))},di=function(e){var n,t=e.post,i=t.visibility,a=t.license,l="UNLISTED"===i,r=!(!a||"ALL_RIGHTS_RESERVED"===a),d=!(null===(n=t.tags)||void 0===n||!n.length),s=l||r;return d||s?o.createElement(T.P,{size:"app"},o.createElement(li,{post:t,marginBottom:s?"40px":"26px"}),s&&o.createElement(B.a,{marginTop:d?"0px":"12px",marginBottom:"26px"},l&&o.createElement(B.a,{display:"inline"},o.createElement(se.kZ,{scale:"M",tag:"span"},o.createElement(oi.A,null)," Unlisted")),l&&r&&o.createElement(ri,null),r&&o.createElement(ai,{license:a}))):null},si=t(49912),mi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topicId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"topicId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"}}]}}]}}]}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]))},ci=t(21335),ui=t(66973),pi="post-view",ki="post-read",vi="topic-view",gi="medium-search",fi="external-search",Si=(ti={},(0,i.A)(ti,pi,200),(0,i.A)(ti,ki,200),(0,i.A)(ti,vi,200),(0,i.A)(ti,gi,200),(0,i.A)(ti,fi,200),ti),hi=(ii={},(0,i.A)(ii,pi,new ui.A("pv")),(0,i.A)(ii,ki,new ui.A("pr")),(0,i.A)(ii,vi,new ui.A("tv")),(0,i.A)(ii,gi,new ui.A("ms")),(0,i.A)(ii,fi,new ui.A("es")),ii),Ni=function(e,n,t){var i=hi[e];i.getCount()===Si[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}},yi=t(2550),bi=t(65138),xi=t(78968),Ei=t(24023),Fi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]},wi=t(21874),Ai=t(658),_i=t(79756),Pi=t(82284),Di=t(80045),Ti=t(10467),Ci=t(77969),Ii=t(53259),Oi=t.n(Ii),Ri=t(91052),Li=t(84274),Mi=t(31905),Bi=t(51387),Vi=["__typename"];function ji(){ji=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,t){return e[n]=t}}function m(e,n,t,i){var o=n&&n.prototype instanceof f?n:f,l=Object.create(o.prototype),r=new D(i||[]);return a(l,"_invoke",{value:w(e,t,r)}),l}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var u="suspendedStart",p="suspendedYield",k="executing",v="completed",g={};function f(){}function S(){}function h(){}var N={};s(N,l,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==t&&i.call(b,l)&&(N=b);var x=h.prototype=f.prototype=Object.create(N);function E(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function F(e,n){function t(a,o,l,r){var d=c(e[a],e,o);if("throw"!==d.type){var s=d.arg,m=s.value;return m&&"object"==(0,Pi.A)(m)&&i.call(m,"__await")?n.resolve(m.__await).then((function(e){t("next",e,l,r)}),(function(e){t("throw",e,l,r)})):n.resolve(m).then((function(e){s.value=e,l(s)}),(function(e){return t("throw",e,l,r)}))}r(d.arg)}var o;a(this,"_invoke",{value:function(e,i){function a(){return new n((function(n,a){t(e,i,n,a)}))}return o=o?o.then(a,a):a()}})}function w(n,t,i){var a=u;return function(o,l){if(a===k)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:e,done:!0}}for(i.method=o,i.arg=l;;){var r=i.delegate;if(r){var d=A(r,i);if(d){if(d===g)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===u)throw a=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=k;var s=c(n,t,i);if("normal"===s.type){if(a=i.done?v:p,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(a=v,i.method="throw",i.arg=s.arg)}}}function A(n,t){var i=t.method,a=n.iterator[i];if(a===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,A(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=c(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var l=o.arg;return l?l.done?(t[n.resultName]=l.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,g):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function P(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(n){if(n||""===n){var t=n[l];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(i.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError((0,Pi.A)(n)+" is not iterable")}return S.prototype=h,a(x,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:S,configurable:!0}),S.displayName=s(h,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,d,"GeneratorFunction")),e.prototype=Object.create(x),e},n.awrap=function(e){return{__await:e}},E(F.prototype),s(F.prototype,r,(function(){return this})),n.AsyncIterator=F,n.async=function(e,t,i,a,o){void 0===o&&(o=Promise);var l=new F(m(e,t,i,a),o);return n.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},E(x),s(x,d,"Generator"),s(x,l,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=T,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(i,a){return r.type="throw",r.arg=n,t.next=i,a&&(t.method="next",t.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],r=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var d=i.call(l,"catchLoc"),s=i.call(l,"finallyLoc");if(d&&s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(d){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),P(t),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var a=i.arg;P(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:T(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),g}},n}var Ui,Wi,Gi,zi,Zi=Oi()({loading:function(){return null},loader:function(){return Promise.all([t.e(8414),t.e(6244),t.e(3974),t.e(2659),t.e(8247)]).then(t.bind(t,55842))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[55842]},render:(0,Mi.X)("ThreadedResponsesSidebarContent")}),Hi=function(e){var n,t,i,a,l,r,d,s,m,c=e.isResponsesSidebarVisible,u=e.inResponseToQuote,p=e.setInResponseToQuote,k=e.parentPost,v=e.continueThisThreadPost,g=e.continueThisThreadPostDepth,f=e.showPreviousSidebar,S=e.cleanupSidebar,h=e.initialSidebarRender,y=e.responsesSort,b=!!(0,N._P)("enable_see_pronouns"),x=y?nn.CD[y]:void 0,E=o.useState(x||nn.CD.TOP),F=(0,Ge.A)(E,2),w=F[0],A=F[1],_=o.useState(!1),P=(0,Ge.A)(_,2),D=P[0],T=P[1],I=o.useRef(null),O=(0,Ci._)(Ri.i),R=(0,Ge.A)(O,2),L=R[0],M=R[1],B=M.called,V=M.loading,j=M.data,U=(0,Ci._)(Bi.t,{variables:{postId:k.id,postResponsesPaging:{limit:_i.TC},sortType:w,withUserPronouns:b},ssr:!1}),W=(0,Ge.A)(U,2),G=W[0],z=W[1],Z=z.called,H=z.loading,Y=z.data,q=z.fetchMore;Z||v||!c||(G(),b&&!B&&L(),Zi.preload());var K=null==Y||null===(n=Y.post)||void 0===n?void 0:n.responsesLocked,Q=null==Y||null===(t=Y.post)||void 0===t?void 0:t.isLockedResponse,X=(0,_i.J6)(c,h,null==Y||null===(i=Y.post)||void 0===i?void 0:i.threadedPostResponses,v),$=X.responses,J=X.showCreateReplyEditor,ee=(null==Y||null===(a=Y.post)||void 0===a||null===(l=a.responseRootPost)||void 0===l||null===(r=l.post)||void 0===r?void 0:r.id)||"",ne=g||(null==Y||null===(d=Y.post)||void 0===d||null===(s=d.responseRootPost)||void 0===s?void 0:s.responseDepth)||0,te=void 0,ie=null==$||null===(m=$.pagingInfo)||void 0===m?void 0:m.next;return ie&&!v&&(te=function(){var e=(0,Ti.A)(ji().mark((function e(){var n;return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=5;break}return ie.__typename,n=(0,Di.A)(ie,Vi),e.next=4,q({variables:{postId:k.id,postResponsesPaging:n}});case 4:T(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(Kn.Cq,null,o.createElement(C.Ne,{source:{name:"responses",postId:k.id},extendSource:!0},o.createElement(Li.p,{sidebarRef:I,cleanupSidebar:S,isResponsesSidebarVisible:c,pagingInfoNext:ie,isFetchingNextSetOfResponses:D,setIsFetching:T,fetchMoreWithArguments:te,initialSidebarRender:h},(function(e){var n,t=e.responseDistribution,i=e.setResponseDistribution,a=e.closeSidebar;return Z||v?o.createElement(Zi,{responses:$,parentPost:k,responsesLocked:K,isLockedResponse:Q,isLoadingInitialContent:H||V,isFetchingNextSetOfResponses:D,isResponsesSidebarVisible:c,closeSidebar:a,showPreviousSidebar:f,inResponseToQuote:u,setInResponseToQuote:p,sidebarRef:I,responseDistribution:t,setResponseDistribution:i,responseSortType:w,setResponseSortType:A,rootPostId:ee,postDepth:ne,isContinueThisThread:!!v,showCreateReplyEditor:J,viewerPronouns:null!==(n=null==j?void 0:j.viewer)&&void 0!==n?n:void 0}):null}))))},Yi=function(e){var n=e.children,t=e.post,i=(0,o.useState)(void 0),a=(0,Ge.A)(i,2),l=a[0],r=a[1],d=(0,o.useCallback)((function(e){return function(n){r(n),e()}}),[]);return o.createElement(Ai.i,null,(function(e){var i=e.showPreviousSidebar,a=e.hasLoaded,s=e.initialSidebarRender,m=e.isVisible,c=e.continueThisThreadPosts,u=e.openSidebar,p=e.cleanupSidebar,k=e.responseSortOption;return o.createElement(wi.h.Provider,{value:{openSidebarToRespondToHighlight:d(u)}},!!t&&a&&o.createElement(Hi,{isResponsesSidebarVisible:m&&0===c.length,parentPost:t,inResponseToQuote:l,setInResponseToQuote:r,showPreviousSidebar:i,cleanupSidebar:p,initialSidebarRender:!!s.current,responsesSort:k}),!!t&&a&&c.map((function(e,n,a){var d=(0,_i.G$)(n);return o.createElement(Hi,{key:t.id,isResponsesSidebarVisible:m&&n===a.length-1,parentPost:t,inResponseToQuote:l,setInResponseToQuote:r,continueThisThreadPost:e,continueThisThreadPostDepth:d,showPreviousSidebar:i,cleanupSidebar:p,initialSidebarRender:!!s.current,responsesSort:k})})),n)}))},qi=t(85864),Ki=t(24960);function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qi.apply(null,arguments)}const Xi=function(e){return o.createElement("svg",Qi({xmlns:"http://www.w3.org/2000/svg",width:49,height:57,fill:"none",viewBox:"0 0 49 57"},e),Ui||(Ui=o.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"})),Wi||(Wi=o.createElement("path",{fill:"#757575",d:"m45.95 17.534-.002-.04c-.022-.478-.036-.985-.045-1.55-.041-2.75-2.255-5.024-5.04-5.178-5.805-.32-10.296-2.19-14.134-5.885l-.032-.03a3.26 3.26 0 0 0-4.392 0l-.033.03c-3.838 3.695-8.329 5.565-14.135 5.885-2.784.154-4.998 2.429-5.039 5.18-.008.56-.023 1.066-.045 1.549l-.003.09c-.112 5.848-.253 13.126 2.212 19.732 1.356 3.633 3.408 6.79 6.1 9.386 3.067 2.957 7.084 5.304 11.939 6.976a3.7 3.7 0 0 0 1.2.201 3.7 3.7 0 0 0 1.201-.202c4.85-1.675 8.862-4.023 11.926-6.979 2.691-2.597 4.744-5.755 6.1-9.389 2.474-6.626 2.334-13.917 2.222-19.776m-5.002 18.764c-2.6 6.962-7.906 11.744-16.224 14.617a.671.671 0 0 1-.448 0c-8.325-2.868-13.636-7.647-16.233-14.61-2.272-6.089-2.144-12.77-2.03-18.664v-.033a52 52 0 0 0 .048-1.62c.018-1.22 1.003-2.231 2.242-2.3 3.285-.18 6.171-.808 8.823-1.917 2.649-1.107 5.001-2.668 7.191-4.772a.276.276 0 0 1 .367 0c2.19 2.104 4.543 3.665 7.19 4.772 2.653 1.11 5.54 1.736 8.825 1.918 1.239.068 2.223 1.078 2.241 2.3.01.586.025 1.116.048 1.62.113 5.9.239 12.586-2.04 18.689"})),Gi||(Gi=o.createElement("path",{fill:"#757575",d:"M24.501 17.762c-7.113 0-12.9 5.4-12.9 12.04 0 6.638 5.787 12.04 12.9 12.04s12.9-5.402 12.9-12.04c0-6.64-5.787-12.04-12.9-12.04m0 21.244c-5.438 0-9.863-4.129-9.863-9.205 0-5.075 4.425-9.205 9.863-9.205s9.862 4.13 9.862 9.205-4.424 9.205-9.862 9.205"})),zi||(zi=o.createElement("path",{fill:"#757575",d:"m28.077 25.098-5.635 6.12-1.53-1.66a1.35 1.35 0 0 0-2.02 0 1.65 1.65 0 0 0 0 2.193l2.54 2.758c.28.303.645.454 1.01.454.366 0 .731-.15 1.01-.454l6.645-7.217a1.65 1.65 0 0 0 0-2.194 1.35 1.35 0 0 0-2.02 0"})))};var $i=(0,Ze.Ng)()((function(e){var n=e.dispatch,t=e.isVisible,i=e.hide,a="limitedStateInterstitialDialogPopover";return o.createElement(Xe.l,{isVisible:t,hide:i,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},o.createElement(B.a,{display:"flex",justifyContent:"center",paddingTop:"100px"},o.createElement(B.a,{height:"550px",width:"900px",background:an.ON,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,an.qy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},o.createElement(B.a,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},o.createElement(B.a,{paddingBottom:"24px"},o.createElement(Xi,null)),o.createElement(B.a,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},o.createElement(j.DZ,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),o.createElement(B.a,{padding:"0 0 24px 0"},o.createElement(Qe.$n,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){i(),n((0,tn.MZ)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),o.createElement(qi.B,null,(function(e){var n=e.isVisible,t=e.toggle,i=e.hide;return o.createElement(Ki.A,{ariaId:a,isVisible:n,hide:i,display:"block",customZIndex:800,popoverRenderFn:function(){return o.createElement(B.a,{padding:"15px 20px",width:"400px"},o.createElement(se.kZ,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},o.createElement(B.a,{paddingTop:"10px"},o.createElement(de.N,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:t},o.createElement("u",null,o.createElement(se.kZ,{scale:"S"},"Why am I seeing this?")))))})))),o.createElement(B.a,{display:"flex",justifyContent:"center"},o.createElement(se.kZ,{scale:"M"},"View our"," ",o.createElement(de.N,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",o.createElement(de.N,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",o.createElement(de.N,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),Ji=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function ea(e){var n=e.post,t=n.creator,i=n.isLimitedState,a=e.children,l=(0,He.R)().value,r=null==l?void 0:l.id,d=(0,An.l)(),s=o.useState(!1),m=(0,Ge.A)(s,2),c=m[0],u=m[1];return o.useEffect((function(){u(!0)}),[]),i&&(t&&t.id)!==r?o.createElement(qi.B,{initialVisibility:!0},(function(e){var n=e.isVisible,t=e.hide;return o.createElement(o.Fragment,null,o.createElement("div",{className:d(Ji(n))},a),c&&o.createElement($i,{isVisible:n,hide:t}))})):a}var na=t(37075),ta=t(65364),ia={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSocialLoginsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSocialLogins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"}}]}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserSocialLogins"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"twitter"}},{kind:"Field",name:{kind:"Name",value:"facebook"}},{kind:"Field",name:{kind:"Name",value:"google"}},{kind:"Field",name:{kind:"Name",value:"redactedEmailAddress"}},{kind:"Field",name:{kind:"Name",value:"isMember"}},{kind:"Field",name:{kind:"Name",value:"emailAddress"}},{kind:"Field",name:{kind:"Name",value:"userAvatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}}]}}]}}]))};function aa(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function oa(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?aa(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aa(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var la=function(e){var n=e.children,t=e.postRenderCallback,i=(0,xn.$)(),a=(0,C.Zj)(),l=(0,p.MW)(),r=(0,C.PJ)(l||""),d=r.userId,s=r.name,m=o.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),c=(0,Ge.A)(m,2),u=c[0],k=c[1];o.useEffect((function(){var e=u.shouldRun,n=u.showSuggestedAccount,i=u.userSocialLogins;e&&(null==t||t(v,n,i))}),[u.shouldRun]);var v=(0,He.R)().value,g=!("email"!==s||v&&v.membership||!d);return g&&d?o.createElement(ta.X,{query:ia,variables:{userId:d}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||v&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),m=oa({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,Cn.g)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e})}});return!t||o||u.shouldRun||k({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(m))||null})):(t&&!u.shouldRun&&k(oa(oa({},u),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:g,loading:!1}))||null)},ra=t(90384),da=t(25548),sa=function(){var e=(0,Ze.wA)(),n=(0,tn.zF)(),t=(0,o.useState)("loading"),i=(0,Ge.A)(t,2),a=i[0],l=i[1],r=(0,o.useCallback)((function(t,i,a){l(i?"rendered":"not_eligible"),i&&(e((0,ra.J)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,o.useEffect)((function(){e((0,da.j)(!0))}),[]),(0,o.useEffect)((function(){"not_eligible"===a&&e((0,da.j)(!1))}),[a]),o.createElement(la,{postRenderCallback:r})},ma=t(42600);function ca(){ca=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,t){return e[n]=t}}function m(e,n,t,i){var o=n&&n.prototype instanceof f?n:f,l=Object.create(o.prototype),r=new D(i||[]);return a(l,"_invoke",{value:w(e,t,r)}),l}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var u="suspendedStart",p="suspendedYield",k="executing",v="completed",g={};function f(){}function S(){}function h(){}var N={};s(N,l,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==t&&i.call(b,l)&&(N=b);var x=h.prototype=f.prototype=Object.create(N);function E(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function F(e,n){function t(a,o,l,r){var d=c(e[a],e,o);if("throw"!==d.type){var s=d.arg,m=s.value;return m&&"object"==(0,Pi.A)(m)&&i.call(m,"__await")?n.resolve(m.__await).then((function(e){t("next",e,l,r)}),(function(e){t("throw",e,l,r)})):n.resolve(m).then((function(e){s.value=e,l(s)}),(function(e){return t("throw",e,l,r)}))}r(d.arg)}var o;a(this,"_invoke",{value:function(e,i){function a(){return new n((function(n,a){t(e,i,n,a)}))}return o=o?o.then(a,a):a()}})}function w(n,t,i){var a=u;return function(o,l){if(a===k)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:e,done:!0}}for(i.method=o,i.arg=l;;){var r=i.delegate;if(r){var d=A(r,i);if(d){if(d===g)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===u)throw a=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=k;var s=c(n,t,i);if("normal"===s.type){if(a=i.done?v:p,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(a=v,i.method="throw",i.arg=s.arg)}}}function A(n,t){var i=t.method,a=n.iterator[i];if(a===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,A(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=c(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var l=o.arg;return l?l.done?(t[n.resultName]=l.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,g):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function P(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(n){if(n||""===n){var t=n[l];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(i.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError((0,Pi.A)(n)+" is not iterable")}return S.prototype=h,a(x,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:S,configurable:!0}),S.displayName=s(h,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,d,"GeneratorFunction")),e.prototype=Object.create(x),e},n.awrap=function(e){return{__await:e}},E(F.prototype),s(F.prototype,r,(function(){return this})),n.AsyncIterator=F,n.async=function(e,t,i,a,o){void 0===o&&(o=Promise);var l=new F(m(e,t,i,a),o);return n.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},E(x),s(x,d,"Generator"),s(x,l,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=T,D.prototype={constructor:D,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(i,a){return r.type="throw",r.arg=n,t.next=i,a&&(t.method="next",t.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],r=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var d=i.call(l,"catchLoc"),s=i.call(l,"finallyLoc");if(d&&s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(d){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),P(t),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var a=i.arg;P(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:T(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),g}},n}var ua=t(58262),pa=t(78723),ka=t(74169);var va=t(85259),ga=function(e){var n=e.list,t=(0,xn.$)(),i=(0,C.jI)(),a=(0,o.useCallback)((function(){t.event("list.presented",{listId:n.id,source:i})}),[n.id,i]),l=(0,_n.s)({onPresentedFn:a});return o.createElement(z.E,{size:{xs:12,sm:12,md:6,lg:6,xl:6},ref:l},o.createElement(va.W,{catalog:n,titleMargin:"4px"}))},fa=function(e){var n=e.lists,t=(0,U.D)();return o.createElement(o.Fragment,null,o.createElement(M.i,{marginBottom:"40px",borderColor:t.colorTokens.border.neutral.tertiary.base}),o.createElement(j.DZ,{scale:"XS"},"Lists"),o.createElement(B.a,{marginTop:"32px"},o.createElement(C.Ne,{extendSource:!0,source:{name:"read_next_recirc"}},o.createElement(Z.E,{alignItems:"flex-start"},n.map((function(e){return o.createElement(ga,{key:e.id,list:e})}))))),o.createElement(M.i,{marginTop:{xs:"16px",sm:"16px",md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},borderColor:t.colorTokens.border.neutral.tertiary.base}))},Sa=function(e){var n=e.recirc,t=e.postCatalogRecirc,i=(0,U.D)(),a=(0,Hn.Nw)("ShowHome",{}),l=null==n?void 0:n.items,r=null==t?void 0:t.catalogs;if(null==l||!l.length)return null;var d=Y(l),s=d.slice(0,2),m=d.slice(2);return o.createElement(T.P,{size:"app"},o.createElement(B.a,{paddingTop:"88px",paddingBottom:"40px"},o.createElement(j.DZ,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Recommended from Medium"),o.createElement(B.a,{marginTop:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}},o.createElement(K,{items:s,source:"read_next_recirc"})),null!=r&&r.length?o.createElement(fa,{lists:r}):null,o.createElement(K,{items:m,source:"read_next_recirc"}),o.createElement(M.i,{marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:i.colorTokens.border.neutral.tertiary.base}),o.createElement(Q.r,{href:a},"See more recommendations")))},ha=t(71267),Na=t(65938),ya=t(10974),ba=t(22805),xa=t(97078),Ea=t(15088),Fa=t(36469),wa=t(88474),Aa=t(43002),_a=t(33735),Pa=Oi()({loading:function(){return null},loader:function(){return t.e(6999).then(t.bind(t,14701))},modules:["./GiveTipButton"],webpack:function(){return[14701]},render:(0,Mi.X)("GiveTipButton")}),Da=function(e){var n=e.user,t=e.postId,i=(0,He.R)().value,a=i&&i.id===n.id,l=(0,Hn.au)(),r=(0,tt.z)({name:"can_send_tips_v0",placeholder:!1}),d="rgba(26, 137, 23, 1)"!==(0,U.D)().colorTokens.background.accent.primary.base,s=(0,v.ST)(l("ShowSettingsTab",{setting:ba.W.Account}),{},xa.cZ);return o.createElement(o.Fragment,null,a?o.createElement(Qe.$n,{buttonStyle:d?"STRONG":"BRAND",size:"SMALL",href:s},o.createElement(B.a,{whiteSpace:"nowrap"},"Edit profile")):o.createElement(C.Ne,{source:{name:"publisher_header_actions"},extendSource:!0},o.createElement(B.a,{display:"flex"},o.createElement(_a.m,{creator:n,followButtonSize:"REGULAR",susiEntry:"follow_profile",showMembershipUpsellModal:!0,width:"auto",buttonStyleFn:function(e){return function(e){return d?e?"OBVIOUS":"STRONG":e?"SUBTLE":"BRAND"}(e)}}),r&&o.createElement(Pa,{creatorId:n.id,postId:t,buttonStyle:d?"STRONG":"BRAND"}))))},Ta=function(e){var n,t=e.user,i=e.collection,a=!(null===(n=i.editors)||void 0===n||!n.find((function(e){var n;return(null==e||null===(n=e.user)||void 0===n?void 0:n.id)===t.id}))),l=(0,Zn.Z)({name:"detail",scale:"M",color:"LIGHTER",clamp:1}),r=(0,An.l)();return o.createElement("div",{className:r([l,{display:"flex",whiteSpace:"pre-wrap"}])},o.createElement(ge.d,{margin:"0 8px"}),o.createElement(B.a,{tag:"span",flexShrink:"0"},a?"Editor for ":"Writer for "),o.createElement(Aa.w,{collection:i,clamp:1}))},Ca=function(e){var n=e.user,t=e.postId,i=e.collection,a=(0,U.D)(),l=(0,L.f)(n),r=(0,wa.E)(n),d=(0,ue.U)(),s=d===H.i.xs||d===H.i.sm,m=s?64:72,c=s?24:32;return o.createElement(T.P,{size:"app"},o.createElement(B.a,{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},o.createElement(Ea.h,{author:n,collection:i,authorSize:m,collectionImageSize:c,collectionOffset:"-16px",borderColor:a.colorTokens.background.neutral.tertiary.base}),o.createElement(V.V,{xs:!0,sm:!0},o.createElement(Da,{user:n,postId:t}))),o.createElement(B.a,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},o.createElement(B.a,null,o.createElement(B.a,{display:"flex",alignItems:"center"},o.createElement(de.N,{href:l,rules:{display:"flex",alignItems:"center"}},o.createElement(Na.y,{prefix:"Written by ",publisher:n,scale:"M"})),r&&o.createElement(Fa.G,{marginLeft:"2px",marginTop:"1px",size:"M",userId:n.id,alignSelf:{xs:"flex-end",sm:void 0,md:void 0,lg:void 0,xl:void 0}})),o.createElement(B.a,{marginTop:"8px",display:"flex"},o.createElement(B.a,{flexShrink:"0"},o.createElement(ya.T,{publisher:n,scale:"M",color:"DARKER",inline:!0,showWhenZero:!0})),i&&o.createElement(Ta,{user:n,collection:i})),o.createElement(B.a,{marginTop:"16px"},o.createElement(ha.F,{publisher:n,color:"DARKER"}))),o.createElement(V.V,{md:!0,lg:!0,xl:!0},o.createElement(Da,{user:n,postId:t}))),o.createElement(M.i,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},Ia=t(30749),Oa=t(62464),Ra=t(97595),La=t(14153),Ma=t(52144),Ba={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MobileFooterPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat((0,y.A)(Ra.D.definitions),(0,y.A)(La.p.definitions),(0,y.A)(Ma.P.definitions))},Va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileFooterPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MobileFooterPostActions_post"}}]}}]}}].concat((0,y.A)(Ba.definitions))},ja=t(27895),Ua=function(e){var n,t,i=e.post,l=e.isVisible,r=o.useContext(Gt.u).openSidebar,d=(0,a.I)(Va,{variables:{postId:i.id},ssr:!1}),s=d.data,m=d.loading,c=d.error;return m?null:(t=c||null==s||!s.post?i:s.post,o.createElement(ja.$,{isVisible:l,multiVoteButton:o.createElement(jt.W,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:o.createElement(Wt._,{responsesCountScale:"S",trackingData:{postId:t.id},responsesCount:(null===(n=t.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:t.isLimitedState,isPublished:t.isPublished,handleClick:r,countStylesOverride:{marginLeft:"4px"},allowResponses:t.allowResponses}),saveButton:o.createElement(Oa.Q,{kind:nn.Bd.POST,target:t})}))},Wa=t(78493),Ga=t(42283),za=t(72420),Za=["title","includeStar","benefits","onClick","href","buttonText","post"],Ha=function(e){return{"> path":{fill:e.colorTokens.foreground.neutral.primary.base},marginRight:"8px",height:"16px",width:"16px"}},Ya=function(e){var n=e.title,t=e.includeStar,i=e.benefits,a=e.onClick,l=e.href,r=e.buttonText,d=e.post,s=(0,Di.A)(e,Za),m=(0,An.l)();return o.createElement(B.a,(0,ze.A)({borderRadius:"4px",backgroundColor:"BACKGROUND",border:"neutral.primary",padding:"24px",width:{xs:"100%",sm:"100%",md:"320px",lg:"320px",xl:"320px"}},s),o.createElement(B.a,{display:"flex",alignItems:"center"},t&&o.createElement(Pn.A,{className:m(Ha)}),o.createElement(j.DZ,{scale:"XS"},n)),o.createElement(B.a,{marginTop:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),i.map((function(e,n){return o.createElement(B.a,{key:n,marginTop:"16px",display:"flex"},o.createElement(B.a,{marginRight:"12px"},o.createElement(za.A,null)),o.createElement(se.kZ,{scale:"M",color:"DARKER"},e))})),o.createElement(B.a,{marginTop:"24px",marginBottom:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),o.createElement(ot.r,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:l,additionalClickActions:a,buttonWidth:"100%",post:d},r))},qa=t(96705),Ka={xs:"440px",sm:"440px",md:"1192px",lg:"1192px",xl:"1192px"},Qa={height:{xs:"22px",sm:"22px",md:"32px",lg:"32px",xl:"32px"},marginBottom:{xs:"16px",sm:"16px",md:"32px",lg:"32px",xl:"32px"}},Xa={position:"absolute",bottom:"0",left:"0",zIndex:"-1"},$a=["Distraction-free reading. No ads.","Organize your knowledge with lists and highlights.","Tell your story. Find your audience."],Ja=["Access the best member-only stories.","Support independent authors.","Listen to audio narrations.","Read offline.","Join the Partner Program and earn for your writing."],eo=function(e){var n=e.onClick,t=e.post,i=(0,An.l)(),a=(0,Wa.xu)({membershipType:Wa.yV.Monthly}),l=a.amount,r=a.currency,d=(0,Hn.au)();return o.createElement(B.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:void 0},alignItems:"center"},o.createElement(G.pg,{miroId:"5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74",rules:Xa}),o.createElement(B.a,{marginRight:{xs:void 0,sm:void 0,md:void 0,lg:void 0,xl:"64px"},marginBottom:{xs:"24px",sm:"24px",md:"48px",lg:"48px",xl:void 0},textAlign:{xs:"center",sm:"center",md:"center",lg:"center",xl:void 0}},o.createElement(Ga.A,{className:i(Qa)}),o.createElement(Je.mz,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),o.createElement(B.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignItems:"center"},o.createElement(Ya,{title:"Free",benefits:$a,buttonText:"Sign up for free",onClick:n,post:t,marginBottom:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0},marginRight:{xs:void 0,sm:void 0,md:"40px",lg:"40px",xl:"32px"}}),o.createElement(Ya,{title:"Membership",includeStar:!0,benefits:Ja,buttonText:"Try for ".concat((0,qa.vv)({amount:l,currency:r,floatingDigits:[0,2]}),"/month"),onClick:n,href:d("ShowPay",{}),post:t})))},no=t(3326),to=t(72113),io=function(e){return function(n){return{backgroundColor:n.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(n.colorTokens.border.neutral.secondary.base),position:"fixed",width:"100%",visibility:e?"visible":"hidden"}}},ao=function(e){var n=e.hide,t=e.click,i=e.height,a=e.containerRef,l=e.post,r=e.isVisible,d=e.setIsVisible,s=(0,o.useRef)(0),m=(0,o.useRef)(0),c=(0,ue.U)();return(0,o.useEffect)((function(){if(i>0&&!r&&d(!0),c&&c!==H.i.xl&&!(i<window.innerHeight/2)){var e=function(){var e=window.scrollY,n=i-window.innerHeight/2,t=i>window.innerHeight?n:Math.min(i/2,n),o=e<=0?0:Math.min(t,m.current+e-s.current);m.current=Math.max(0,o),s.current=e,a.current&&(a.current.style.removeProperty("bottom"),0===m.current?a.current.style.top="50vh":a.current.style.top="calc(50vh - ".concat(m.current,"px)"))};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}a.current&&(a.current.style.removeProperty("top"),a.current.style.bottom="0")}),[i,c]),o.createElement(B.a,{maxWidth:Ka},o.createElement(to.I,{onClose:n,containerProps:{position:"absolute",top:"16px",right:"16px",padding:"0"}}),o.createElement(eo,{onClick:t,post:l}))},oo=function(e){var n=e.hide,t=e.click,i=e.post,a=(0,o.useState)(0),l=(0,Ge.A)(a,2),r=l[0],d=l[1],s=(0,o.useState)(!1),m=(0,Ge.A)(s,2),c=m[0],u=m[1];return o.createElement(no.r,{height:r,setHeight:d,isVisible:!0,hideDirection:"down",containerRules:io(c),onHide:n,contentProps:{flexDirection:"column",padding:{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"},alignItems:"center"},hideOnEscapeKey:!0},(function(e){var n=e.hide,a=e.containerRef;return o.createElement(ao,{height:r,hide:n,click:t,containerRef:a,post:i,isVisible:c,setIsVisible:u})}))},lo=t(60603),ro=t(4441),so=30*ma.ei,mo=function(){return null},co=["9db0094a1e0f","f03bf92035c9"],uo=function(e){var n=e.post,t=e.postIsLocked,i=(0,ue.U)(),a=i===H.i.xs||i===H.i.sm,r=function(e,n){var t,i=(0,k.d4)((function(e){return e.client.hydrated})),a=(0,xn.$)(),r=(0,He.R)(),d=r.value,s=r.error,m=r.loading,c=!m&&!s&&!d,u=(0,lo.e)((0,ro.y)((0,xi.D9)(),so)),p=(0,Ge.A)(u,2),v=p[0],g=p[1],f=(0,o.useCallback)((function(){(0,xi.pm)(new Date),a.event("upsell.dismissed",{dimension:"post_footer_upsell"}),g()}),[a,g]),S=(0,o.useCallback)((function(){a.event("upsell.clicked",{dimension:"post_footer_upsell"})}),[a]),h=(0,l.zy)(),N=(0,Hn.W5)(h.pathname),y="post"===(null==N||null===(t=N.route)||void 0===t?void 0:t.mediumAppPage);return!i||m?{isLoading:!0,isVisible:!1,hide:mo,click:mo}:co.includes(e)||n||!y||!c||!i||v?{isLoading:!1,isVisible:!1,hide:mo,click:mo}:{isLoading:!1,isVisible:!0,hide:f,click:S}}(n.id,t),d=r.isLoading,s=r.isVisible,m=r.hide,c=r.click,u=a&&!s&&!d;if(!u&&!s)return null;var p=u?je.x:0;return o.createElement(Ia.N,{maxHeightToHideOnScroll:p,isUpsellVisible:s},(function(e){var t=e.isStuck;return o.createElement(o.Fragment,null,s&&o.createElement(C.Ne,{extendSource:!0,source:{dimension:"post_footer_upsell",postId:n.id}},o.createElement(Kn.Cq,null,o.createElement(oo,{hide:m,click:c,post:n}))),u&&o.createElement(Ua,{post:n,isVisible:t}))}))},po=function(e){var n=e.post,t=e.recirc,i=e.postCatalogRecirc,r=e.catalog,d=e.authorCollectionRecircFeed,s=e.postViewerEdgeLoading,m=(0,U.D)(),c=o.useRef(null),u=(0,He.R)().value,v=n.isLocked,g=n.collection,f=n.creator,S=n.content.isLockedPreviewOnly,h=(0,ht.D)({post:n,postBodyRef:c,postViewerEdgeLoading:s}),N=!!n.inResponseToEntityType,y=v?{className:"meteredContent"}:{},b=(g||{}).googleAnalyticsId;return(0,Ve.j)({ids:b?[b]:null}),(0,ua.n)(c,n),function(e,n,t){var i=(0,xn.$)(),a=(0,C.jI)(),l=(0,o.useState)(!1),r=(0,Ge.A)(l,2),d=r[0],s=r[1],m=(0,Ze.wA)(),c=(0,pa.L)(),u=function(){var e=(0,pa.L)(),n=(0,tt.z)({name:"enable_member_nps_survey",placeholder:!1}),t=(0,He.R)(),i=t.loading,a=t.value;return(0,o.useCallback)((function(){n&&!i&&a&&e&&(a.membership&&(e.setLocalAttribute("membership.tier",a.membership.tier),e.setLocalAttribute("membership.memberSince",a.membership.memberSince),e.setLocalAttribute("membership.friendSince",a.membership.friendSince)),e.fireEvent("user.postClientRead"))}),[n,i,a,e])}();(0,o.useEffect)((function(){if(!d&&t){var o=function(){if(n.current&&!d){var o,l=(0,ka.G9)(n.current),r=(0,ka.$5)(l),p=r.top+r.height,k=(0,ka.$5)((0,ka.$S)()),v=k.top+k.height;if(!t.content.isLockedPreviewOnly&&v>=p-100&&a.includes("post_page")){s(!0),m((0,tn.jo)(!0));var g={source:a,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""};i.event("post.clientRead",g),c&&(c.setLocalAttribute("latest.post.clientRead.url",window.location.href),g.postId&&c.setLocalAttribute("latest.post.clientRead.postId",g.postId),g.source&&c.setLocalAttribute("latest.post.clientRead.source",g.source)),u(),e||(o=t.id,Ni(ki,o,Date.now()))}}};return en.R5.on("scroll_end",o),function(){en.R5.off("scroll_end",o)}}}),[d,t,c,u]),(0,o.useEffect)((function(){return function(){m((0,tn.jo)(!1))}}),[])}(!!u,c,n),function(e){var n=e.post,t=e.clientViewedContext,i=void 0===t?1:t,l=e.overrideCommonData,r=void 0===l?{}:l,d=e.postViewerEdgeLoading;(function(e){var n,t,i=e.post,o=(0,k.d4)((function(e){return e.config.authDomain})),l=null==i?void 0:i.id,r=(0,ci.cd)(null==i?void 0:i.creator),d=r.viewerEdge,s=r.loading,m=(0,Ye.J)(null==i?void 0:i.collection),c=m.viewerEdge,u=m.loading,p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,a.I)(mi,{variables:{topicId:n},ssr:!1,skip:!n}),i=t.loading,o=t.error,l=t.data;return i?{loading:i}:o?{error:o}:{viewerEdge:null==l||null===(e=l.topic)||void 0===e?void 0:e.viewerEdge}}(null==i||null===(n=i.primaryTopic)||void 0===n?void 0:n.id),v=p.viewerEdge,g=p.loading,f=u||s||g;(0,si.O)({data:{canonicalUrl:l&&null!=i&&null!==(t=i.collection)&&void 0!==t&&t.domain?(0,I.KI2)(o,l):void 0,creatorViewerEdge:d,collectionViewerEdge:c,post:i||void 0,topicViewerEdge:v},loading:!l||f||!(null!=i&&i.isPublished),show:!0})})({post:n}),function(e){var n=e.post,t=e.clientViewedContext,i=e.overrideCommonData,a=void 0===i?{}:i,l=e.postViewerEdgeLoading,r=(0,xn.$)(),d=(0,yi.A)(),s=d.loading,m=d.viewerId,c=m&&(0,bi.C)(m),u=(null==n?void 0:n.collection)||{},p=u.id,k=u.slug,v=((null==n?void 0:n.content)||{}).validatedShareKey,g=null==n?void 0:n.id;o.useEffect((function(){!s&&g&&m&&!l&&(null!=n&&n.isPublished?(c||(n.isLocked?(0,xi.$r)():(0,xi.qo)()),r.event("post.clientViewed",{postId:g,collectionId:p,collectionSlug:k,context:t,isFriendLink:!!v,source:"post_page",isTruncated:n.content.isLockedPreviewOnly,postShareKey:v},a)):r.event("post.draftViewed",{postId:g}),c||function(e){Ni(pi,e,Date.now())}(g))}),[g,m,s,l,v])}({post:n,clientViewedContext:i,overrideCommonData:r,postViewerEdgeLoading:d})}({post:n,postViewerEdgeLoading:s}),function(e){var n=(0,He.R)().value,t=(0,gt.n)(ft,{variables:{postId:e.id}}),i=(0,Ge.A)(t,2),a=i[0],l=i[1].called;o.useEffect((function(){e.isPublished||null==n||!n.id||l||a()}),[n])}(n),function(){var e=(0,tn.zF)(),n=(0,o.useState)(!0),t=(0,Ge.A)(n,2),i=t[0],a=t[1],l=(0,He.R)().value,r=(0,k.ZA)((function(e){return e.session.xsrf})),d=(0,p.MW)(),s=(0,C.PJ)(d||"").name;(0,o.useEffect)((function(){function e(){return(e=(0,Ti.A)(ca().mark((function e(){var n;return ca().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,xi.V7)(l.id,r);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==l?void 0:l.id,r]),(0,o.useEffect)((function(){var n;null!=l&&null!==(n=l.viewerEdge)&&void 0!==n&&n.createdAt&&(new Date).getTime()-l.viewerEdge.createdAt>5*ma.CJ&&!i&&"login"===s&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),a(!0),(0,xi.u2)(l.id,r))}),[l,i,e,s,r])}(),function(e){var n,t,i,r,d=function(){var e,n=(0,l.zy)().hash;if(n.startsWith("#id_token"))return{};var t=null==n||null===(e=n.replace("#",""))||void 0===e?void 0:e.split("-"),i=(0,Ge.A)(t,2);return{activeGrafId:i[0],activeNoteId:i[1]}}(),s=d.activeGrafId,m=d.activeNoteId,c=(0,k.d4)((function(e){return e.navigation.referrer})),u=(0,p.WZ)(),v=(0,p.MW)(),g=(0,a.I)(Fi,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:c,sk:u,source:v}},ssr:!1,skip:!m}),f=g.loading,S=g.error,h=g.data,N=(null!=h?h:{}).post,y=null==N||null===(n=N.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===m})),b=null!==(t=null==N||null===(i=N.content)||void 0===i||null===(r=i.bodyModel)||void 0===r?void 0:r.paragraphs)&&void 0!==t?t:[],x=new Set(b.map((function(e){return e.name})).filter(Ei.se)),E=!!y&&!!s&&x.has(s),F=!(f||S||!m||E),w=(0,Ze.wA)();(0,o.useEffect)((function(){F&&w((0,tn.MZ)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[F,w,tn.MZ])}(n),o.createElement(B.a,null,o.createElement(C.Ne,{source:{dimension:"post_top_nav_upsell"}},o.createElement(gn.w,{isPostLocked:!!v})),o.createElement(Yi,{post:n},o.createElement(Rt,{post:n}),o.createElement(sa,null),o.createElement(na.f,{post:n,user:f,forceLoad:(null==u?void 0:u.id)===(null==f?void 0:f.id)}),o.createElement(B.a,{marginBottom:{xs:"4px",sm:"4px",md:"68px",lg:"68px",xl:"68px"}},o.createElement(T.P,{size:"app"},N&&o.createElement(B.a,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},marginBottom:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},o.createElement(St.d,{post:n}))),o.createElement("article",y,o.createElement(B.a,null,o.createElement(ea,{post:n},o.createElement(B.a,null,o.createElement(Lt.N,{isAuroraPostPageEnabled:!0,post:n,ref:c,richTextStyle:"FULL_PAGE",postBodyInserts:h}))))),o.createElement(vt,{post:n})),o.createElement(uo,{post:n,postIsLocked:!!v}),!S&&o.createElement(di,{post:n}),o.createElement(We,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app",marginBottom:{xs:"80px",sm:"80px",md:"88px",lg:"88px",xl:"88px"}},o.createElement(zt,{post:n,socialPopoverPosition:"end"}))),"Catalog"===(null==r?void 0:r.__typename)&&o.createElement(xe,{currentPostId:n.id,catalog:r}),o.createElement(B.a,{backgroundColor:"BASE_LIGHT",paddingTop:{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}},f&&o.createElement(o.Fragment,null,o.createElement(Ca,{user:f,postId:n.id,collection:g}),o.createElement(X,{postId:n.id,authorCollectionRecircFeed:d,user:f,collection:g})),o.createElement(Sa,{recirc:t,postCatalogRecirc:i}),o.createElement(V.V,{lg:!0,xl:!0},o.createElement(M.i,{marginTop:"72px",borderColor:m.colorTokens.border.neutral.tertiary.base}),o.createElement(T.P,{size:"app"},o.createElement(vn.j,{padding:"24px 0",spacing:"L",detailScale:"S"})))),o.createElement(kn,{post:n}))},ko=t(17290),vo=t(33487),go=t(30898),fo=t(16729),So=t(8686),ho=t(82567),No={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat((0,y.A)(we.s.definitions),(0,y.A)(vo.l.definitions),(0,y.A)(go.c.definitions),(0,y.A)(fo.e.definitions),(0,y.A)(So.W.definitions))},yo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}}].concat((0,y.A)(ho.$.definitions),(0,y.A)(Ae.v.definitions))},bo=t(71324),xo=t(48049),Eo=t(62742),Fo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat((0,y.A)(Eo.CV.definitions))},wo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Paywall_post"}}]}}].concat((0,y.A)(Fo.definitions),(0,y.A)(Un.definitions))},Ao=t(45547),_o=t(14130),Po={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat((0,y.A)(_o.VX.definitions))},Do={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat((0,y.A)(Po.definitions))},To={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat((0,y.A)(Do.definitions))},Co=t(21089),Io=t(17441),Oo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_logo"}}]}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_logo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]))},Ro={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,y.A)(F.v0.definitions),(0,y.A)(Oo.definitions),(0,y.A)(Io.H4.definitions))},Lo=t(36305),Mo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,y.A)(F.v0.definitions),(0,y.A)(Ro.definitions),(0,y.A)(Lo.l.definitions),(0,y.A)(Lo.H.definitions),(0,y.A)(Io.TW.definitions),(0,y.A)(Io.m_.definitions),(0,y.A)(Io.G5.definitions),(0,y.A)(Io.H4.definitions))},Bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},Vo=t(42144),jo=t(52897),Uo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}].concat((0,y.A)(we.s.definitions),(0,y.A)(F.v0.definitions),(0,y.A)(Ee.pB.definitions),(0,y.A)(jo.l.definitions))},Wo=t(28961),Go={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat((0,y.A)(Wo.f.definitions))},zo=t(96623),Zo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineDescription_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}}]}}].concat((0,y.A)(Ae.v.definitions),(0,y.A)(Go.definitions),(0,y.A)(zo.N.definitions))},Ho=t(14029),Yo=t(9078),qo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorByline_user"}}]}}].concat((0,y.A)(Uo.definitions))},Ko={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MaybeTextToSpeech_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButton_post"}}]}}].concat((0,y.A)(Zo.definitions),(0,y.A)(Ra.D.definitions),(0,y.A)(Ho.Q.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"MaybeTextToSpeech_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}]),(0,y.A)(Yo.S.definitions),(0,y.A)(La.p.definitions))},Qo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,y.A)(_.definitions),(0,y.A)(E.definitions))},Xo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_paragraph"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_post"}}]}}].concat((0,y.A)(Vo.z8.definitions),(0,y.A)(Vo.Cg.definitions),(0,y.A)(qo.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),(0,y.A)(Ko.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}}]}}]),(0,y.A)(Qo.definitions))},$o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]))},Jo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostClientViewedReporter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_post"}}]}}].concat((0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostClientViewedReporter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,y.A)($o.definitions))},el=t(54814),nl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserPronouns"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostTracking_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"}}]}}]}}]}}].concat((0,y.A)(ko.M.definitions),(0,y.A)(yo.definitions),(0,y.A)(ie.definitions),(0,y.A)(bo.Z.definitions),(0,y.A)(xo.x.definitions),(0,y.A)(No.definitions),(0,y.A)(te.definitions),(0,y.A)(wo.definitions),(0,y.A)(Ao.KU.definitions),(0,y.A)(To.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),(0,y.A)(Co.x.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,y.A)(Mo.definitions),(0,y.A)(xo.W.definitions),(0,y.A)(Bo.definitions),(0,y.A)(Xo.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),(0,y.A)(Jo.definitions),(0,y.A)(el.W.definitions),(0,y.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},tl=t(10531),il=function(){var e=(0,ue.U)()||H.i.lg,n=e===H.i.xs||e===H.i.sm?2:3;return o.createElement(B.a,{height:"100vh"},o.createElement(B.a,{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%",marginTop:"48px"},o.createElement(B.a,{width:"80%",height:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"},marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{display:"flex",marginBottom:{xs:"44px",sm:"44px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(B.a,{height:"44px",width:"44px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",marginRight:"12px"}),o.createElement(B.a,{margin:"auto 0"},o.createElement(B.a,{height:"16px",marginBottom:"4px",width:"120px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{height:"16px",width:"80px",backgroundColor:"BASE_NORMAL"}))),Array.from(Array(n)).map((function(e,n){return o.createElement(B.a,{key:n,width:"100%",marginBottom:{xs:"32px",sm:"32px",md:"48px",lg:"48px",xl:"48px"}},o.createElement(B.a,{width:"96%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{width:"100%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(B.a,{width:"81%",height:"24px",backgroundColor:"BASE_NORMAL"}))}))))},al=function(){return o.createElement(tl.H,{itemPlaceholder:il,numPlaceholders:1})};function ol(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ll(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ol(Object(t),!0).forEach((function(n){(0,i.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ol(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var rl=function(e){var n,t,i,l,r,d,s=(0,I.quc)({params:e})||"",m=(0,k.d4)((function(e){return e.client.viewerIsBot})),c=!!(0,N._P)("enable_see_pronouns"),u=m,v=(0,a.I)(nl,{variables:{postId:s,postMeteringOptions:{},withUserPronouns:c},skip:!s}),g=(0,a.I)(Me,{variables:{postId:s},skip:!s,ssr:u}),f=(0,a.I)(Be,{variables:{postId:s},skip:!s,ssr:u}),S=(0,p.MW)(),h=(0,o.useMemo)((function(){return(0,C.PJ)(null!=S?S:"")}),[S]).catalogId,y=(0,a.I)(ae,{variables:{input:{postId:s,paging:{limit:4}}},skip:!s,ssr:u}),b=(0,a.I)(Ie,{variables:{catalogId:null!=h?h:"",limit:11},skip:!s||!h,ssr:u}),x=null===(n=v.data)||void 0===n?void 0:n.postResult,E="Post"===(null==x?void 0:x.__typename)&&!(null==x||null===(t=x.content)||void 0===t||!t.isLockedPreviewOnly),F=D(s,E),w=F.content,A=!!F.loading,_=x&&w?ll(ll({},x),{},{content:w}):x,P=null===(i=g.data)||void 0===i?void 0:i.recirc,T=null===(l=f.data)||void 0===l?void 0:l.postCatalogRecirc,O=null===(r=y.data)||void 0===r?void 0:r.authorCollectionRecircFeed,R=null===(d=b.data)||void 0===d?void 0:d.catalogById;return o.useMemo((function(){return{loading:v.loading||A,postQueryResult:v,postResult:_,postViewerEdgeLoading:A,recirc:P,postCatalogRecirc:T,catalog:R,authorCollectionRecircFeed:O}}),[v,_,P,R,T,A,O])},dl=o.memo((function(e){var n=e.postQueryResult,t=e.postResult,i=e.recirc,a=e.postCatalogRecirc,c=e.authorCollectionRecircFeed,u=e.catalog,p=e.params,k=e.postViewerEdgeLoading,v=(0,I.quc)({params:p})||"",g=n.loading,f=n.error,S=(0,l.zy)(),N=o.useMemo((function(){return{name:"post_page",postId:v}}),[v]);return v?g?o.createElement(T.P,{size:"inset"},o.createElement(al,null)):f?o.createElement(r.z,{error:f}):(0,m.M)(t)?o.createElement(m.a,{postResult:t}):o.createElement(h,{post:t,matchedPath:S.pathname,key:v},o.createElement(C.Ne,{source:N},t.creator&&o.createElement(s.F,{user:t.creator}),o.createElement(po,{post:t,recirc:i,postCatalogRecirc:a,postViewerEdgeLoading:k,authorCollectionRecircFeed:c,catalog:u}))):o.createElement(d.u,null)}))},71324:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},42680:(e,n,t)=>{"use strict";t.d(n,{F:()=>o});var i=t(96540),a=t(52290),o=function(e){var n,t,o,l,r=e.user,d=null===(n=r.linkedAccounts)||void 0===n||null===(t=n.mastodon)||void 0===t?void 0:t.domain,s=null===(o=r.linkedAccounts)||void 0===o||null===(l=o.mastodon)||void 0===l?void 0:l.username;return d&&s?i.createElement(a.a,{display:"none"},i.createElement("a",{rel:"me",href:"https://".concat(d,"/@").concat(s)},"Mastodon")):null}},16729:(e,n,t)=>{"use strict";t.d(n,{e:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},71267:(e,n,t)=>{"use strict";t.d(n,{F:()=>r});var i=t(96540),a=t(67476),o=t(92554),l=t(36557),r=function(e){var n=e.publisher,t=e.color,r="Collection"===n.__typename?n.description:n.bio;return r?i.createElement(l.kZ,{scale:"M",color:t},i.createElement(o.r.Provider,{value:!0},i.createElement(a.O,{wrapLinks:!0},r))):null}},65938:(e,n,t)=>{"use strict";t.d(n,{y:()=>l});var i=t(96540),a=t(56942),o=t(44402),l=function(e){var n=e.publisher,t=e.scale,l=void 0===t?"XS":t,r=e.prefix,d=(0,o.l)();return n.name?i.createElement(a.DZ,{playwrightClassName:"pw-author-name",scale:l},i.createElement("span",{className:d({wordBreak:"break-word",paddingRight:"8px"})},r,n.name)):null}},10974:(e,n,t)=>{"use strict";t.d(n,{T:()=>m,e:()=>s});var i=t(96540),a=t(60213),o=t(64122),l=t(86527),r=t(36557),d=t(27715),s=function(e){var n,t,i=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(t=e.socialStats)||void 0===t?void 0:t.followerCount)&&void 0!==n?n:0;return{followerCount:i,isFollowerCountVisible:i>0}},m=function(e){var n=e.disableLink,t=void 0!==n&&n,m=e.scale,c=void 0===m?"L":m,u=e.publisher,p=e.color,k=e.linkStyle,v=void 0===k?"SUBTLE":k,g=e.inline,f=e.showWhenZero,S=(0,a.u)(),h=(0,o.W)(),N=s(u),y=N.followerCount,b=N.isFollowerCountVisible;if(!f&&!b)return null;var x="".concat((0,d.Ct)(y)," Follower").concat(1===y?"":"s");return i.createElement(r.kZ,{playwrightClassName:"pw-follower-count",tag:"span",scale:c,color:p},y>0&&!t?i.createElement(l.N,{href:"".concat("Collection"===u.__typename?S(u):h(u),"/followers"),linkStyle:v,inline:g},x):x)}},42144:(e,n,t)=>{"use strict";t.d(n,{Cg:()=>l,hB:()=>r,z8:()=>o});var i=t(45458),a=t(59265),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,i.A)(a.v0.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat((0,i.A)(o.definitions),(0,i.A)(l.definitions))}},44054:(e,n,t)=>{"use strict";t.d(n,{N:()=>y});var i=t(58168),a=t(80296),o=t(77969),l=t(96540),r=t(92554),d=t(98503),s=t(16676),m=t(2680),c=t(47043),u=t(4171),p=t(64467),k=t(24023);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,p.A)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var S=t(27721),h=t(47517),N=t(45547),y=l.forwardRef((function(e,n){var t,p,v,y=e.isAuroraPostPageEnabled,b=e.post,x=e.inlinePost,E=e.postBodyInserts,F=e.richTextStyle,w=e.markedUpBodyModel,A=e.shouldHideHighlightAnnotations,_=(0,S.R)().value,P=x&&!b?w||(null==x||null===(t=x.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==b||null===(p=b.content)||void 0===p?void 0:p.bodyModel,D={creator:null==b?void 0:b.creator,isAuroraPostPageEnabled:y,postBodyInserts:E,ref:n,richTextStyle:F||"FULL_PAGE",postId:(null==b?void 0:b.id)||""},T=b&&b.creator&&b.creator.allowNotes||!1,C=(0,o._)(N.ZL,{ssr:!1,variables:{postId:(null==b?void 0:b.id)||"",showNotes:T},notifyOnNetworkStatusChange:!0}),I=(0,a.A)(C,2),O=I[0],R=I[1],L=R.called,M=R.data,B=null==M?void 0:M.post;if(l.useEffect((function(){b&&!L&&O()}),[b]),!P)return h.v.error("Expected post to have content or preview content."),null;var V=(null==b||null===(v=b.content)||void 0===v?void 0:v.bodyModel)&&(null==b?void 0:b.content.bodyModel.paragraphs)||[],j=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!o)return null;var l=f(a.text,i,t),r=f(o.text,i,t);if(!l||!r)return null;if(l===r)return e;var d=o.text?o.text.indexOf(l):null;if("number"!=typeof d||d<0)return null;var s=d+l.length;return g(g({},e),{},{endOffset:s,startOffset:d})})).filter(k.se):e}(B&&B.highlights||[],V),U=B&&B.privateNotes||null;return l.createElement(m.aB,null,l.createElement(d.R,null,l.createElement(s.k,{interactivePost:b,highlights:j,disableSelection:!b},l.createElement(u.u,{highlights:j,paragraphs:V,viewer:_},l.createElement(r.r.Provider,{value:!0},l.createElement(c.N,(0,i.A)({},D,{bodyModel:P,highlights:j,privateNotes:U,shouldHideHighlightAnnotations:A})))))))}))},51387:(e,n,t)=>{"use strict";t.d(n,{t:()=>s});var i=t(45458),a=t(79083),o=t(62544),l=t(57053),r=t(11656),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat((0,i.A)(o.uF.definitions),(0,i.A)(l.uS.definitions),(0,i.A)(l.jC.definitions),(0,i.A)(r.gK.definitions))},s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUserPronouns"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat((0,i.A)(a.S$.definitions),(0,i.A)(d.definitions))}},79083:(e,n,t)=>{"use strict";t.d(n,{FP:()=>o,OH:()=>l,Rz:()=>r,S$:()=>a});var i=t(45458),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat((0,i.A)(a.definitions))},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},84274:(e,n,t)=>{"use strict";t.d(n,{p:()=>v});var i=t(80296),a=t(52697),o=t(96540),l=t(51739),r=t(79756),d=t(44402),s=t(42976),m=t(64467),c=t(38667),u=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(a){var o=n?"0.6s":"0s";return(0,m.A)({width:t,position:"fixed",zIndex:520,backgroundColor:i,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(t,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,c.sm)(a),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},p=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},k={"@media print":{display:"none"}},v=function(e){var n=e.cleanupSidebar,t=e.children,m=e.isResponsesSidebarVisible,c=e.pagingInfoNext,v=e.isFetchingNextSetOfResponses,g=e.setIsFetching,f=e.fetchMoreWithArguments,S=e.initialSidebarRender,h=e.sidebarRef,N=(0,d.l)(),y=o.useRef(null),b=o.useState(null),x=(0,i.A)(b,2),E=x[0],F=x[1],w=o.useState(s.IZ.NOT_DISTRIBUTED),A=(0,i.A)(w,2),_=A[0],P=A[1];o.useEffect((function(){var e=y.current;if(e&&m){if(!E){var n=(0,a.K)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),F(n)}return function(){E&&(E.deactivate(),F(null))}}}),[y.current,E,F,m]);var D,T=o.useCallback((function(){P(s.IZ.NOT_DISTRIBUTED),n()}),[n]);return o.createElement("div",{className:N(k),role:"dialog","aria-modal":"true",ref:y,tabIndex:-1},o.createElement("div",{className:N([p(S),(D=m,D?{opacity:1,pointerEvents:"all"}:{})]),onClick:T,onKeyUp:function(e){13===e.keyCode&&T()},"aria-hidden":!m,role:"presentation"}),o.createElement("div",{className:N([u(m,S,l.gH)]),"aria-hidden":!m,onScroll:function(e){return(0,r.Fl)(e,c,v,g,f)},ref:h},t({responseDistribution:_,setResponseDistribution:P,closeSidebar:T})))}},60763:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});const i=t(5968).D.Consumer}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.6267a4f0.chunk.js.map