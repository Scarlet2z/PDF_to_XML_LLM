(self.webpackChunklite=self.webpackChunklite||[]).push([[5924],{98598:(e,n,i)=>{"use strict";i.d(n,{g:()=>a});var t=i(87329),o=i(84683),l=i(19308),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionTooltip_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"header"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}}].concat((0,t.Z)(o.d.definitions),(0,t.Z)(l.I.definitions))}},18978:(e,n,i)=>{"use strict";i.d(n,{L:()=>F});var t=i(67294),o=i(71652),l=i(82405),a=i(14294),c=i(25735),d=i(73279),r=i(77355),u=i(27323),m=i(93310),s=i(20113),k=i(87691),p=i(92780),f=i(14646),v=i(92661),S=i(46696),g=i(21372),b=i(68427),F=function(e){var n=e.collection,i=e.buttonSize,a=e.buttonStyleFn,d=n.name,u=n.description;return(0,c.V)({name:"enable_updated_pub_recs_ui",placeholder:!1})?t.createElement(C,{collection:n}):t.createElement(r.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},t.createElement(r.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"neutral.primary",paddingBottom:"10px",marginBottom:"10px"},t.createElement(r.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},t.createElement(s.X6,{scale:"S"},d),t.createElement(k.F,{scale:"S"},u)),t.createElement(r.x,null,t.createElement(o.v,{collection:n,link:!0}))),t.createElement(r.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},t.createElement(k.F,{scale:"M"},"Followed by ",(0,g.pY)(n.subscriberCount||0)," people"),t.createElement(l.F,{collection:n,buttonSize:i,buttonStyleFn:a,susiEntry:"follow_card"})))},N=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},y=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},C=function(e){var n,i,c=e.collection,s=c.name,F=c.description,C=c.customStyleSheet,w=c.slug,x=(0,b.R)(c),E=(0,v.H2)()("ShowLiteCollectionFollowers",{collectionSlug:w}),h=(0,p.n)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),_=(0,f.I)(),D=null!=C&&null!==(n=C.header)&&void 0!==n&&null!==(i=n.backgroundImage)&&void 0!==i&&i.id?(0,S.W6)({miroId:C.header.backgroundImage.id,strategy:S._S.Resample}):null;return t.createElement(r.x,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative"},!!D&&t.createElement("div",{className:_(y(D))}),t.createElement(r.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},t.createElement(o.v,{size:64,collection:c,link:!0}),t.createElement(r.x,null,t.createElement(l.F,{collection:c,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card"}))),t.createElement(r.x,{marginTop:"12px",display:"flex",flexDirection:"column"},t.createElement(u.P,{href:x},t.createElement(r.x,{display:"flex",flexDirection:"column"},t.createElement("div",{className:_([h,{display:"block"}])},s))),t.createElement(r.x,{marginTop:"4px",display:"flex",flexDirection:"row"},t.createElement(k.F,{scale:"S",color:"LIGHTER"},"Publication"),t.createElement(d.O,{margin:"0 8px"}),t.createElement(m.r,{href:E,linkStyle:"SUBTLE",rules:N},t.createElement(k.F,{scale:"S",color:"DARKER",tag:"span"},(0,g.pY)(c.subscriberCount||0)),t.createElement(k.F,{scale:"S",tag:"span"},"Â Followers")))),F&&t.createElement(r.x,{paddingTop:"12px"},t.createElement(k.F,{scale:"S",color:"DARKER",clamp:4},t.createElement(a.P,{wrapLinks:!0},F))))}},68427:(e,n,i)=>{"use strict";i.d(n,{B:()=>c,R:()=>d});var t=i(8575),o=i(67294),l=i(43487),a=i(78870),c=function(){var e=(0,l.v9)((function(e){return e.navigation.currentLocation})),n=(0,l.v9)((function(e){return e.config.authDomain})),i=(0,a.rp)();return(0,o.useCallback)((function(o){var l=o.id,a=o.domain,c=function(e){var n=e.id,i=e.slug;return i?"/".concat(i):"/c/".concat(n)}({id:l,domain:a,slug:o.slug});if(i)return"https://".concat(n).concat(c);var d=(0,t.parse)(e).port;return a?"https://".concat(a).concat(d?":".concat(d):""):"https://".concat(n).concat(c)}),[i])},d=function(e){return c()(e)}},84683:(e,n,i)=>{"use strict";i.d(n,{d:()=>l});var t=i(87329),o=i(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionAvatar_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,t.Z)(o.nf.definitions))}},71652:(e,n,i)=>{"use strict";i.d(n,{v:()=>k});var t=i(67294),o=i(68427),l=i(14818),a=i(4381),c=i(27323),d=i(29746),r=i(14646),u=i(46696),m=function(e){return function(n){return{borderRadius:(0,d.a)(n.borderRadius.regular),width:(0,d.a)(e),height:(0,d.a)(e),backgroundColor:n.colorTokens.background.neutral.secondary.base}}},s=function(e){return function(n){return{borderRadius:(0,d.a)(n.borderRadius.regular),display:"block",height:"".concat(e,"px"),width:"".concat(e,"px"),position:"absolute",top:0,border:"1px solid rgba(0, 0, 0, 0.05)"}}},k=function(e){var n=e.circular,i=e.collection,d=e.size,k=void 0===d?60:d,p=e.link,f=e.showHoverState,v=(0,o.R)(i),S=(0,r.I)();if(!i||!i.avatar||!i.avatar.id)return null;var g=i.avatar.id,b=i.name||"Publication avatar",F=n?t.createElement(l.z,{miroId:g,alt:b,diameter:k,freezeGifs:!1,showHoverState:f}):t.createElement("div",{style:{position:"relative",border:"2px solid white",borderRadius:"6px"}},t.createElement(a.UV,{rules:[m(k)],miroId:g,alt:b,width:k,height:k,strategy:u._S.Crop}),t.createElement("div",{className:S(s(k))}));return p?t.createElement(c.P,{href:v},F):F}},19308:(e,n,i)=>{"use strict";i.d(n,{b:()=>a,I:()=>c});var t=i(87329),o=i(68216),l=i(98007),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat((0,t.Z)(o.nf.definitions),(0,t.Z)(l.Os.definitions))}},82405:(e,n,i)=>{"use strict";i.d(n,{F:()=>y});var t=i(34699),o=i(21919),l=i(67294),a=i(96174),c=i(77520),d=i(20297),r=i(25550),u=i(25267),m=i(39727),s=i(26350),k=i(50563),p=i(93310),f=i(77355),v=i(47230),S=i(18627),g=i(66411),b=i(92661),F=i(43487),N=i(50458),y=function(e){var n,i=e.buttonSize,N=e.buttonStyleFn,y=e.collection,w=e.post,x=e.simpleLink,E=e.susiEntry,h=void 0===E?"follow_card":E,_=e.preventParentClick,D=e.width,R=(0,F.v9)((function(e){return e.config.authDomain})),T=(0,r.r)().viewerId,I=(0,S.A)(),Z=(0,g.pK)(),B=(0,a.TH)(),L=(0,b.$B)(B.pathname),U=null==L||null===(n=L.route)||void 0===n?void 0:n.name,z=(0,m.g)(y),A=z.viewerEdge,O=z.loading,V=function(e,n){var i=(0,o.D)(d.e),a=(0,t.Z)(i,1)[0];return l.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!0),followingCollectionConnection:(0,k.Hc)(e.id)}})}})}),[e.id])}(y,T),P=function(e,n){var i=(0,o.D)(d.X),a=(0,t.Z)(i,1)[0];return l.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!1)}})}})}),[e.id])}(y,T),H=l.useCallback((function(e){_&&e.preventDefault(),I.event("collection.followed",{collectionId:y.id,followSource:Z}),V()}),[y,_,Z,I]),q=l.useCallback((function(e){_&&e.preventDefault(),I.event("collection.unfollowed",{collectionId:y.id,followSource:Z}),P()}),[_,Z,I]),G=!(null==A||!A.isFollowing),M=N?N(!!G):G?"OBVIOUS":"STRONG";return x?l.createElement(p.r,{onClick:G?q:H},l.createElement(f.x,{display:"flex",flexDirection:"row"},G?"Unfollow publication":"Follow publication")):l.createElement(u.I,null,(function(e){return e?l.createElement(v.zx,{size:i,onClick:G?q:H,buttonStyle:M,loading:O,width:D},G?"Following":"Follow"):l.createElement(s.R,{collection:y,buttonStyle:M,isButton:!0,buttonSize:i,operation:"register",actionUrl:C(R,y,w)||"",susiEntry:h,pageSource:(0,c.x)(U,"register"),buttonWidth:D},G?"Following":"Follow")}))},C=function(e,n,i){return n.slug&&(i&&i.id?(0,N.TAb)(e,n.slug,i.id):(0,N.LlO)(e,n.slug))}},98007:(e,n,i)=>{"use strict";i.d(n,{Os:()=>l,qU:()=>a,Vm:()=>c,GB:()=>d});var t=i(87329),o=i(20121),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_collection"}}]}}].concat((0,t.Z)(o.Hr.definitions))},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat((0,t.Z)(o.qt.definitions))},c=([{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_topic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_topic"}}]}}].concat((0,t.Z)(o.Uh.definitions)),{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_user"}}]}}].concat((0,t.Z)(o.Zd.definitions))}),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_newsletterV3"}}]}}].concat((0,t.Z)(o.gs.definitions))};[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SusiClickableAccountTokenQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_query"}}]}}].concat((0,t.Z)(o.Zz.definitions))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5924.eb210b66.chunk.js.map